<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talking Heads</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h3>Talking Heads</h3>
    <br>

        <h4>Preparations</h4>
            <p>Make sure you have these programs:</p>
                <code>
                    <pre>
                        -Adobe Photoshop or Gimp (preferably the former),
                        -Fallout Frame Animator,
                        -SFall Script Editor.
                    </pre>
                </code>
        <br>

        <h4>Animation Basics</h4>
            <p>Every talking head has 3 moods:</p>
                <code>
                    <pre>
                        -Bad,
                        -Neutral and
                        -Good.
                    </pre>
                </code>
            <p>Each one of them must have at least 1 idle animation (most vanilla heads have 3) and 1 speaking animation otherwise the game won't function properly. 
                If you downloaded the Vic images, you'll notice that there's a folder for each mood with 3 idle/fidget and speaking animations each.</p>
            <p>The folder structure can look like this:</p>
                <code>
                    <pre>
                        Bad
                        |
                        |->Fidget1
                            |->1.png
                            |->2.png 
                        |
                        |->Fidget2
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                            |->8.png  
                        |
                        |->Fidget3
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                        |
                        |->Talk
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                            |->8.png
                            |->9.png

                        Good
                        |
                        |->Fidget1
                            |->1.png
                            |->2.png  
                            |->3.png
                            |->4.png
                        |
                        |->Fidget2
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                            |->8.png  
                            |->9.png
                        |
                        |->Fidget3
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                        |
                        |->Talk
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                            |->8.png
                            |->9.png

                        Neutral
                        |
                        |->Fidget1
                            |->1.png
                            |->2.png  
                            |->3.png
                            |->4.png
                        |
                        |->Fidget2
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                            |->8.png  
                            |->9.png
                            |->10.png   
                            |->11.png
                            |->12.png   
                            |->13.png
                            |->14.png  
                            |->15.png
                        |
                        |->Fidget3
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                            |->8.png
                        |
                        |->Talk
                            |->1.png
                            |->2.png
                            |->3.png
                            |->4.png   
                            |->5.png
                            |->6.png   
                            |->7.png
                            |->8.png
                            |->9.png
                        |
                        |->Transitions
                            |->Neutral - Bad
                                |->1.png
                                |->2.png
                                |->3.png
                                |->4.png   
                                |->5.png
                            |
                            |->Neutral - Good
                                |->1.png
                                |->2.png
                                |->3.png
                                |->4.png   
                                |->5.png
                    </pre>
                </code>
        <br>

        <h4>Converting images to proper format</h4>
            <p>First off open your first series of images (in this case the folder "Neutral\Fidget1").</p>
            <img src="images\Photoshop picture 1.png" alt="Photoshop picture 1.">
            <br>
            <br>
            <p>Select all layers and change the image size to 356 x 200.</p>
            <img src="images\Photoshop picture 2.png" alt="Photoshop picture 2.">
            <br>
            <br>
            <p>Go to Image -> Mode -> Indexed Color and select Custom Palette.</p>
            <img src="images\Photoshop picture 3.png" alt="Photoshop picture 3.">
            <br>
            <br>
            <p>Open the Fallout Frame Animator folder and select the Fallout.act file (I've also uploaded the palette in this message).</p>
            <img src="images\Photoshop picture 4.png" alt="Photoshop picture 4.">
            <br>
            <br>
            <p>Save the image as an 8bit BMP this is the image format the Fallout 2 engine uses.</p>
            <p>Do the same process for all the images.</p>
            <br>
            <h5>Tips</h5>
            <p>* Make sure you use a uniform color as the background for your images (the transparent part of PNG images turn white which is ideal) as the program to create FRMs (which we will see in the next step) 
                will cut the background color, for this reason try not have that same one on the character of the program will cut sections of the it that uses the same color.</p>    
            <p>* Use shortcut keys to make the workflow faster on Photoshop you can go to Edit -> Keyboard Shortcuts to make your own.</p>    
            <p>* You don't have to use Photoshop, Gimp is a good free alternative. </p>    
        <br>

        <h4>How the animations work</h4>
            <p>Before creating our animation files (FRMs) I'll try to explain how the talking head animations work.</p>
            <p>Every talking head file (.frm) has main name that must be 5 letters or less, for this tutorial we will use the word "Vic".
                You then add the relevant suffix to the name for each animation, they are as follows:</p>
                <code>
                    <pre>
                        B = Bad mood
                        G = Good Mood
                        N = Neutral Mood
                        f1 = Fidget 1 (Character blinking)
                        f2 = Fidget 2 (Character nodding)
                        f3 = Fidget 3 (Character shaking head)
                        (B,G,N)P = Character talking.
                        BN,NB,GN,NG = Mood transition from (B,G,N) to (B,G,N)
                    </pre>
                </code>
        <br>

            <h5>Examples</h5>
            <p>If you want to create an animation for Vic where he is blinking and in a neutral mood you must name it:</p>
                <code>
                    <pre>
                        VicNf1
                    </pre>
                </code>
            <p>Vic (the characters name) + N (the mood he is in) + f1 (Fidget 1).</p>
        <br>

            <p>If you want to create an animation where Vic is speaking in a bad mood you must name it:</p>
                <code>
                    <pre>
                        VicBP
                    </pre>
                </code>
            <p>Vic (the character name) + B (the mood he is in) + P (Talk).</p>
        <br>

            <p>If you want to an animation where Vic transitions from good to neutral mood you must name it:</p>
                <code>
                    <pre>
                        VicGN
                    </pre>
                </code>
            <p>Vic (the character name) + GN ( Good to Neutral).</p>
            <p>Hopefully this isn't too confusing.</p>
        <br>

            <p>I'll show you what each animation looks like.</p>
            <p>Neutral mood:</p>
            <p>Nf1 (Neutral Fidget 1).</p>
            <img src="images\nf1.gif" alt="Vic neutral fidget 1.">
            <p>Nf2 (Neutral Fidget 2).</p>
            <img src="images\nf2.gif" alt="Vic neutral fidget 2.">
            <p>Nf3 (Neutral Fidget 3).</p>
            <img src="images\nf3.gif" alt="Vic neutral fidget 3.">
            <p>NP (Neutral Talk).</p>
            <img src="images\np.gif" alt="Vic neutral talk.">
        <br>
        <br>
        <br>

            <p>Bad mood:</p>
            <p>Bf1 (Bad Fidget 1).</p>
            <img src="images\bf1.gif" alt="Vic bad fidget 1.">
            <p>Bf2 (Bad Fidget 2).</p>
            <img src="images\bf2.gif" alt="Vic bad fidget 2.">
            <p>Bf3 (Bad Fidget 3).</p>
            <img src="images\bf3.gif" alt="Vic bad fidget 3.">
            <p>BP (Bad Talk).</p>
            <img src="images\bp.gif" alt="Vic bad talk.">
        <br>
        <br>
        <br>

            <p>Good mood:</p>
            <p>Gf1 (Good Fidget 1).</p>
            <img src="images\gf1.gif" alt="Vic good fidget 1.">
            <p>Gf2 (Good Fidget 2).</p>
            <img src="images\gf2.gif" alt="Vic good fidget 2.">
            <p>Gf3 (Good Fidget 3).</p>
            <img src="images\gf3.gif" alt="Vic good fidget 3.">
            <p>GP (Good Talk).</p>
            <img src="images\gp.gif" alt="Vic good talk.">
        <br>
        <br>
        <br>

            <p>Mood Transitions:</p>
            <p>NB (Neutral to Bad)</p>
            <img src="images\nb.gif" alt="NB (Neutral to Bad).">
            <p>BN (Bad to Neutral).</p>
            <img src="images\bn.gif" alt="BN (Bad to Neutral).">
            <p>NG (Neutral to Good).</p>
            <img src="images\ng.gif" alt="NG (Neutral to Good).">
            <p>GN (Good to Neutral).</p>
            <img src="images\gn.gif" alt="GN (Good to Neutral).">
        <br>
        <br>
        <br>

        <h4>Creating FRMs</h4>
            <p>After converting our images to 8bit BMPs we can open the Fallout Frame Animator Program and click Add Frames (Ctrl + A).</p>
            <img src="images\Creating FRMs 1.png" alt="">
        <br>
        <br>
            <p>We will be creating the first neutral fidget (Nf1) so select the relevant BMP images.</p>
            <img src="images\Creating FRMs 2.png" alt="">
        <br>
        <br>
            <p>We will have to remove the white background, to do this go to options (folder icon left of the vault boy icon) and on Transparent Color check Auto and on Frames Tune check Autocutting.</p>
            <img src="images\Creating FRMs 3.png" alt="">
        <br>
        <br>
            <p>We will save the file as "VicNf1", use the previous section for naming guidelines.</p>
            <img src="images\Creating FRMs 4.png" alt="">
        <br>
        <br>
            <p>Create all the remaining FRMs, this is what the complete set will look like:</p>
                <code>
                    <pre>
                        VicBf1.frm
                        VicBf2.frm
                        VicBf3.frm
                        VicBN.frm
                        VicBP.frm
                        VicGf1.frm
                        VicGf2.frm
                        VicGf3.frm
                        VicGN.frm
                        VicGP.frm
                        VicNB.frm
                        VicNf1.frm
                        VicNf2.frm
                        VicNf3.frm
                        VicNG.frm
                        VicNP.frm 
                    </pre>
                </code>
        <br>
        
            <h4>Talking Animations</h4>
            <p>All talking animations (NP,GP,BP) must have 9 frames, each one representing a different viseme (the shape the mouth makes when saying a letter).</p>
            <img src="images\Creating FRMs 5.png" alt="">
            <p>I'm not 100% sure of the exact order but I think it is:</p>
                <code>
                    <pre>
                        1 - Closed (In between frame)
                        2 - A
                        3 - E
                        4 - I
                        5 - F
                        6 - L
                        7 - M
                        8 - O
                        9 - U
                    </pre>
                </code>
        <br>

            <h5>Animation Tips</h5>
            <p>* The bare minimum amount of animations for a Talking Head to be functional is this:</p>
                <code>
                    <pre>
                        [name]Nf1,
                        [name]NP,
                        [name]NG,
                        [name]NB,
                        [name]Bf1,
                        [name]BN,
                        [name]BP
                        [name]Gf1
                        [name]GN
                        [name]GP
                    </pre>
                </code>
            <p>* If use want to make a static image as a Talking Head instead of an animated one, simply make a FRM of each animation (mentioned in the previous tip) with that single image. </p>
            <p>* Try to make the animations loop so in game the Heads will look fluid, make sure the last frame links to the first one.</p>
            <p>* The first frame of Nf1,Bf1 and Gf1 (specially Nf1) is arguably the most important as the Head freezes on it before randomly choosing one of the Fidgets (f1,f2,f3), so make sure it looks cool! </p>
        <br>

        <h4>Adding our head into the game</h4>
            <p>For this section we will need the Sfall Script editor and "Dat Explorer" by Dims.</p>
        <br>
            <h4>Creating a Patch</h4>
            <p>Go into your main Fallout 2 directory and create a folder called "patch001.dat" 
                (if you already have a "patch001" folder or .dat file name it "patch002"), open it and create two new folder named "art" and "scripts" respectively.</p>
            <img src="images\Patch 1.png" alt="">
            <br>
            <br>
            <p>Open the "art" folder and create a folder named "heads".</p>
            <img src="images\Patch 2.png" alt="">
            <br>
            <br>
            <p>In the main Fallout 2 directory open the "master.dat" file with Dat Explorer</p>
            <img src="images\Patch 3.png" alt="">
            <br>
            <br>
            <p>In Master.dat open the "art" folder and then the "heads" folder and find "HEADS.lst".</p>
            <img src="images\Patch 4.png" alt="">
            <br>
            <br>
            <p>Extract HEADS.lst to the "heads" folder we created inside of "patch001.dat" (.../patch001/art/heads).</p>
            <p>Put all the Vic FRMs we created earlier in the "Heads" folder, it should look like this:</p>
            <img src="images\Patch 5.png" alt="">
            <br>
            <br>
            <p>Open HEADS.lst with a text editing software like Notepad (ideally Notepad++), this is the list of all the the Talking Heads in Vanilla Fallout 2. 
                The name on each line is the name of one talking head (for example Marcus' head is named "mrcus"), 
                the "3,3,3" indicates how many fidget/idle animations they have for each mood (Bad, Neutral, Good in this order).</p>
            <img src="images\Patch 6.png" alt="">
            <br>
            <br>
            <p>Add the line "vic,3,3,3" at the bottom of the list: vic is the name of the talking head and 
                3,3,3 is the number of fidgets we made (bf1, bf2, bf3 for Bad, nf1, nf2, nf3 for Neutral and gf1,gf2, gf3 for Good)</p>
            <img src="images\Patch 7.png" alt="">


    <div class="sticky">
        <a href="index.html">&laquo; Previous</a>
        <br>
            <img class="sticky" src="images\Radioactive_symbol.png">	
        <br>
        <a href="index.html">Index</a>
        <br>
            <img class="sticky" src="images\Radioactive_symbol.png">	
        <br>
        <a href="prep.html">Next &raquo;</a>
    </div> 
</body>
</html>
