<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fallout 2 Modding Guide</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
	<div>
		<div class="item-sidebar">
			<ol>
				<li><a href="index.html#intro">Introduction</a></li>
				<li><a href="index.html#prep">Preparations</a></li>
				<ol>
					<li><a href="index.html#Fallout2_Installation">Installation - Fallout2</a></li>
					<li><a href="index.html#Fallout2_.dat_files">File handling - .dat files</a></li>
					<li><a href="index.html#Tools_Data_Exploring">Tools - .dat Extractor</a></li>
					<li><a href="index.html#Extracting_.dat_files">Extracting - .dat files</a></li>
					<li><a href="index.html#Tools_Scripting">Tools - Scripting</a></li>
					<li><a href="index.html#Config_sFall_Script_Editor">Config - sFall Script Editor</a></li>
					<li><a href="index.html#Tools_Mapping">Tools - Mapping</a></li>
					<li><a href="index.html#Config_BIS_Mapper">Config - BIS Mapper</a></li>
				</ol>
				<li><a href="index.html#mapping">Mapping</a></li>
				<ol>
					<li><a href="index.html#BIS_Mapper_explained">BIS Mapper explained</a></li>
					<ol>
						<li><a href="index.html#hotkeys">Hotkeys</a></li>
					</ol>
					<li><a href="index.html#build_map">How to build a map</a></li>
					<ol>
						<li><a href="index.html#FloorWall">Floors and walls</a></li>
						<li><a href="index.html#SceneryCritter">Scenery and critters</a></li>
						<li><a href="index.html#LadderStair">Ladders and stairs</a></li>
						<li><a href="index.html#ScrollBlocker">Scroll blocker</a></li>
						<li><a href="index.html#MapExit">Map exits</a></li>
						<li><a href="index.html#Worldmap">Worldmap</a></li>
					</ol>
					<li><a href="index.html#New_Critter">Make new prototype</a></li>
				</ol>
				<li><a href="index.html#basic">Scripting (Basics)</a></li>
				<ol>
					<li><a href="index.html#ssl">Scripting language</a></li>
					<li><a href="index.html#script">Script</a></li>
					<li><a href="index.html#header">Header File</a></li>
					<li><a href="index.html#define">Define</a></li>
					<li><a href="index.html#procedure">Procedure</a></li>
					<li><a href="index.html#function">Function</a></li>
					<li><a href="index.html#argument">Argument</a></li>
					<li><a href="index.html#variable">Variable</a></li>
					<li><a href="index.html#constant">Constant</a></li>
					<li><a href="index.html#macro">Macro</a></li>
					<li><a href="index.html#operator">Operator</a></li>
					<li><a href="index.html#statement">Statement</a></li>
					<li><a href="index.html#semicolon">Semicolon</a></li>
				</ol>
				<li><a href="index.html#advanced">Scripting (Advanced)</a></li>
				<ol>
					<li><a href="index.html#compiling">Compiling</a></li>
					<ol>
						<li><a href="index.html#Scripts.h">SCRIPTS.H</a></li>
					</ol>
					<li><a href="index.html#TestScript">Test your script</a></li>
					<ol>
						<li><a href="index.html#Scripts.lst">SCRIPTS.LST</a></li>
					</ol>
					<li><a href="index.html#AssignScript">Assign script to object</a></li>
					<li><a href="index.html#dialog">Dialog</a></li>
					<li><a href="index.html#pipboy">Add quest to pipboy</a></li>
					<li><a href="index.html#MakeTrader">Make trader</a></li>
					<ol>
						<li><a href="index.html#StoreRestock">Store restock</a></li>
					</ol>
				</ol>
				<li><a href="index.html#complex">Scripting (Complex)</a></li>
				<ol>
				</ol>
				<li><a href="index.html#sFall">Scripting (SFall) (Optional)</a></li>
				<ol>
				</ol>
				<li><a href="index.html#art">Art (Optional)</a></li>
				<ol>
					<li><a href="index.html#talkhead">Talking Heads</a></li>
					<!--<li><a href="index.html#tiles">Make new tiles</a></li>
                        <li><a href="index.html#walls">Make new walls</a></li>
                        <li><a href="index.html#fot">FOT Critters In FO2</a></li>-->
				</ol>
				<li><a href="index.html#addendum">Addendum</a></li>
				<li><a href="index.html#source">Sources</a></li>
			</ol>
		</div>

	<div class="item-main">
		<header>
			<h1>Fallout 2 Modding Guide</h1>
			<br>
			<p>Written by Femic et al.</p>
			<img src="images\Header\Please_stand_by_Fallout.jpg" alt="Please stand by">
			<p><em>Shot a child in the face after he pickpocketed me. Turned the whole town hostile. Ran away to New Reno. Became a Pornstar.
			<br>
			Fallout 2 in a nutshell.
			<br>		
			11/10</em></p>--Rat Prik (Steam review)
		</header>
	<br>
	<hr>
	<hr>

<div id="intro"><h2>Introduction</h2></div>
<br>
	<p>Welcome to my <em>Fallout 2</em> modding guide.</p> 
	<p>You might ask why I created this guide and still work on it because there already are tutorials out there. I just could go and play Fallout instead of wasting my time.
	<br>
	Your question is absolutely justified.</p>
	<p>This guide exists because I realized that if I want the kind of complete <em>Fallout 2</em> modding guide that I envisioned, it pretty much meant writing it myself.
		There are already some tutorials and knowledge all over the internet regarding Fallout 2 modding but these tutorials are almost ancient and the knowledge is fragmented. 
		I'm not going to ignore the older tutorials or knowledge instead I'll incorporate them into this guide.
		My goal is to create a coherent modding guide that covers every corner of Fallout 2 modding.</p>
	<br>
	<p>The first part of this guide is meant to be read from top to bottom. You'll learn what and how to touch and modify every file necessary to create a simple mod.</p>
	<p>The second part covers mostly art. Since art is not necessary to create a mod, it is optional.</p>
	<p>The third part serves as glossary and reference book. There you'll find deeper knowledge and stuff that didn't fit inside the other parts.</p>
	<br>
	<p>I presume that basic PC affinity is present. Otherwise, just ask.</p>
<br>
<hr>
<hr>
			
<div id="prep"><h2>Preparations</h2></div>
<br>

	<div id="Fallout2_Installation"><h3>Installation - Fallout2</h3></div>
		<p>I think I don't need to explain how to install Fallout 2. If you don't know how to install it, just ask someone of the community. 
			  It doesn't matter where you bought Fallout 2 you can just use any version for modding. However, I'd recommend to have an English Fallout 2 installation.</p> 
		<p>So please go on and do a freshly installation of Fallout 2 in English.</p>
		<p>My fresh installation of Fallout2 looks like this...</p>
			<code>C:\Program Files (x86)\GOG Galaxy\Games\Fallout2</code>
				
		<!-- <code class="dyedefine">#define  NAME &emsp; &emsp; SCRIPT_ASWELL</code>
				<code class="codepre" >
					<code class="codepopup">
						Define: SCRIPT_ASWELL
						(217) //ASWell.int  :Arroyo Well. It's broken. Fix w/ Repair.
						
						Declare file: scripts.h
					</code>
					</code>
				</code> -->

			<p>After the installation is done, create a copy of the FO2 folder and paste it somewhere else.</p>
			<p>My backup of Fallout2 looks like this...</p>
				<code>
						E:\Fallout2
				</code>
		<p>Now that we have a backup of our newly installed FO2 we can happily mod our backuped FO2
			installation without being afraid of breaking something. And if we break something we can steal if from our original FO2 installation :P</p>
	<br>
	<br>
	<hr>

	<div id="Fallout2_.dat_files"><h3>File handling - .dat files</h3></div>
		<p>Inside the games folder you'll find .dat files. We need three of them.</p>
		<p>These are...</p> 
<li>
<div class="codebigbox">
<pre>
	<span>master.dat</span>
	<span>critter.dat</span>
</pre>
</div>
</li>
		<p>and if your version of FO2 is patched, then it should also contain following...</p>
				
		<pre><code>patch000.dat</code></pre>
		<p>These three files contain all the various audio, graphic, dialogue, script, font, map, etc. files used in FO2.</p>
		<p>To be able to edit any of the files inside the .dat files you need to unpack the .dat files first. It's like having a .zip file that needs to be unzipped first. 
			It's obligatory to do this before you do any sort of modding of FO2.</p>
		<p>Just save them at a place of your choice.</p>
		<p>Mine looks like this...</p>
		

<li>
<div class="codebigbox">
<pre>
	<span>E:\dev\Ressources</span>
			<span>|</span>
			<span>|->master.dat</span>
			<span>|->critter.dat</span>
			<span>|->patch000.dat</span>
</pre>
</div>
</li>
	<br>
	<br>
	<hr>

	<div id="Tools_Data_Exploring"><h3>Tools - .dat Extractor</h3></div>
		<p>Download <a href="https://www.nma-fallout.com/resources/dat-explorer-by-dims.56/">Dat Explorer by Dims 1.43</a> from NMA.</p>
		<p>Unpack the file inside it wherever you like. Should look like this.</p> 
		<img src="images\Preparations\ToolsDATExplorer\2022-04-20 20_47_40-Fallout 2 Dat Explorer 1.43 by Dims.png" alt="">
		<p>Luckily, it doesn't require installation on your computer as such, so it can be run straight out of the box.</p>
		<p>Start Dat Explorer 1.43.exe</p>
		<img src="images\Preparations\ToolsDATExplorer\2022-04-20 20_53-Dat Explorer_1.43.exe.png" alt="">
		<br>
		<br>
		<br>
		<p>If you're tired of reading and rather want to listen to someone executing the task, our friend QuantumApprentice has made a video especially for this case :)</p>
		<iframe width="560" height="315" src="https://www.youtube.com/embed/vCPc1gxPtKk?start=380" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
	<br>
	<br>
	<br>
	<hr>

	<div id="Extracting_.dat_files"><h3>Extracting - .dat files</h3></div>
		<p>In the 'Startup form' box, double-click on the folder saying 'DAT file' with the vault boy's grinning face on it.</p> 
		<p>In the 'Open' box that comes up next, find and open the folder where you saved the .dat files. </p>	
		<img src="images\Preparations\ToolsDATExplorer\2022-04-20 20_57_56-DAT explorer.png" alt="">
		<p>Select master.dat and click open or just double-click it. This will open up the .dat file within DatExplorer, 
			allowing you to browse its contents before extracting them, WinZip style. So now we extract all these files.</p>
		<img src="images\Preparations\ToolsDATExplorer\2022-04-20-Opened_master.dat.png" alt="">
		<p>Minimise DatExplorer for a moment and create a folder called 'data' somewhere where you can easily find it.</p>
		<p>I suggest doing it like this...</p>
				<code>E:\dev\Ressources\data</code>
		<p>Bring up DatExplorer again. On the menu bar, select Extract ==> Extract all files to (or Shift+E) and point it to your freshly-made data folder. 
		'OK' it, and DatExplorer will unpack the files. This takes a while.</p>
		<img src="images\Preparations\ToolsDATExplorer\2022-04-20-Extract.png" alt="">
		<p>That's master.dat done. Now do the same with critter.dat. Finally - and make sure you do this last - unpack patch000.dat. 
			It is vital that patch000.dat is unpacked last, since it updates many of the files within the other two, big .dat files.</p>
		<p>When DatExplorer is finished, minimise it, cut the 'data' folder and paste it into the root of your backuped \Fallout2 directory. 
			Hit 'Yes To All' in the window that comes up, to replace any old files in the directory with the new, extracted ones.</p>
		<br>
		<p>If you're tired of reading and rather want to listen to someone executing the task, our friend QuantumApprentice has made a video especially for this case :)</p>
		<iframe width="560" height="315" src="https://www.youtube.com/embed/vCPc1gxPtKk?start=438" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
		<br>
		<br>

		<h5>Note</h5>
			<p>Why the extracted files go into '...\Fallout2\data' instead of the Fallout 2 root directory? (Thanks Red)</p>
			<p>The engine is actually built to read the data files from ...\Fallout2\data first (Well, that's how fallout2.cfg sets it by default...) 
				and failing that, will read the ...\Fallout2\ root directory. </p>
			<p>Of course, this causes problems since you put the extracted files in ...\Fallout2\data, Fallout2 likes to delete most if not all the files in ...\Fallout2\data\proto, 
				so you need to make them read-only. Yet if you want to be able to edit them, they should NOT be read-only... Quite a pain in the ass huh? </p>
			<p>There hasn't been found any clever workarounds...The danger in putting the extracted files in the root instead of in 
				...\Fallout2\data is that I think the original .dat files would actually have priority over them.
				While the extracted files in ...\Fallout2\data have priority over the .dat files. </p>
	<br>
	<br>
	<hr>

	<div id="Tools_Scripting"><h3>Tools - Scripting</h3></div>
		<p>You can take a simple text editor like notepad or notepad++ with or without <a href="https://nma-fallout.com/threads/vscode-ssl-support.217033/">Burns VScode SSL support</a> 
			to write scripts. But we take a more dedicated tool for this task. The tool we're going to use is called 
			<a href="https://github.com/F3mic/F3mic.github.io/blob/main/Fallout%20sFall%20Script%20Editor%20v4.1.7.RC1.rar">SFall Script Editor</a> by Mr. Stalin. This tool is gold and will save us a lot of work.</p>
		<p>Download and extract the file 'Fallout sFall Script Editor v4.1.7.RC1.rar'. Execute the installer. Install it wherever you want.</p>
		<p>My installed sFall Script Editor folder looks like this...</p>
				<pre><code>E:\dev\Tools\Fallout sFall Script Editor v4.1.7.RC1</code></pre>
		<img src="images\Preparations\ToolsScripting\2022-04-21 08_29_43-Fallout sFall Script Editor v4.1.7.RC1.png" alt="">
		<br>
		<br>
		<p>If you're tired of reading and rather want to listen to someone executing the task, our friend QuantumApprentice has made a video especially for this case :)</p>
		<iframe width="560" height="315" src="https://www.youtube.com/embed/vCPc1gxPtKk?start=534" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
		<p>We need one more tool and some files that come with it. It's the good old <a href="https://www.nma-fallout.com/resources/bis-mapper.55/">Black Isle Studio (BIS) Mapper</a>.</p>
		<p>Download and extract the BIS Mapper wherever you want.</p> 
		<p>Mine looks like this...</p>
				<pre><code>E:\dev\Tools\BIS mapper patched (+complementary ressources)</code></pre>
				<img src="images\Preparations\ToolsScripting\2022-04-21 08_08_31-BIS mapper patched (+complementary ressources).png" alt="">
		<p>Inside the BIS Mappers folder you'll find decompiled (human readable) scripts from Fallout2. </p>
				<code>E:\dev\Tools\BIS mapper patched (+complementary ressources)\BIS mapper\scripts</code>
		<p>Copy everything inside the 'scripts' folder to the 'data' folder you created and pasted recently into the FO2 backup directory.</p>
				<pre><code>E:\Fallout2\data\decompiled</code></pre>
		<p>Keep the original of these BIS Mapper decompiled scripts save and untouched.</p>
	<br>
	<br>
	<hr>

	<div id="Config_sFall_Script_Editor"><h3>Config - sFall Script Editor</h3></div>
		<p>Run 'SfallScriptEditor.exe'. It'd look like this...</p>
		<img src="images\Preparations\ToolsScripting\2022-04-21-sFall_Script_Editor_first_run.png" alt="">
		<p>Uncheck 'Don't use compiling path'. The first field 'unset' should change its color.</p>
		<img src="images\Preparations\ToolsScripting\2022-04-21 08_36_20-Sfall Script Editor v.4.1.7.0.RC1.png" alt="">
		<p>Select the folder-symbol on the right side at 'Compiled/Output scripts folder:' and navigate to the 'scripts' folder inside 'data' and choose it.</p>
		<img src="images\Preparations\ToolsScripting\2022-04-21 09_03_39-Sfall Script Editor v.4.1.7.0.RC1.png" alt="">
		<p>Now select the next folder-symbol at 'Location folder of headers files:' and again navigate to 'scripts' inside 'data' and this time choose the 'HEADERS' folder.</p>
		<img src="images\Preparations\ToolsScripting\2022-04-21 08_37_12-Sfall Script Editor v.4.1.7.0.RC1.png" alt="">
		<p>The last field 'Location of Scripts.H file' is filled automatically when choosing the path to the 'HEADERS' folder.</p>
		<p>Now you're ready for scripting :)</p>
	<br>
	<br>
	<hr>

	<div id="Tools_Mapping"><h3>Tools - Mapping</h3></div>
		<p>If you want to map you'd use the before mentioned BIS Mapper. You can also use 
			<a href="https://www.mediafire.com/folder/2aheaguwymint/Welcome_to_Fallout_Database#jhjy1cz6dbklg">Dims Mapper (Fallout Database by Dobrovik)</a> or
			<a href="https://www.nuclear-city.com/index.php/topic/1054-%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80-%D0%BA%D0%B0%D1%80%D1%82-bis-%D0%B8-dims-fallout-1-2/">
			Dims Mapper (Nuclear-city.com russian speaking site)</a> as complentary. You'll also find a modified version of BIS Mapper under the russian link.</p>
	<br>
	<br>
	<hr>

	<div id="Config_BIS_Mapper"><h3>Config - BIS Mapper</h3></div>
		<p>The first time you run 'mapper2.exe' you should encounter this error...</p>
		<img src="images\Preparations\ToolsMapping\2022-04-21 14_09_35-Fehler.png" alt="">
		<p>Open 'mapper2.cfg' with a text-editor of your choice.</p>
		<p>Let's take a look at lines 58 to 74 looking like this...</p>
<li>
<div class="codebigbox">
<pre>
	<span>[...]</span>
	<span>[system]</span>
	<span>art_cache_size=261</span>
	<span>cdlock=</span>
	<span>color_cycling=1</span>
	<span>critter_dat=</span>
	<span>critter_patches=</span>
	<span>cycle_speed_factor=1</span>
	<span>executable=mapper</span>
	<span>free_space=0</span>
	<span>hashing=1</span>
	<span>interrupt_walk=1</span>
	<span>language=english</span>
	<span>master_dat=</span>
	<span>master_patches=</span>
	<span>scroll_lock=0</span>
	<span>splash=1</span>
	<span>times_run=1</span>
</pre>
</div>
</li>
		<p>We need to take a closer look at these files...</p>		
<li>
<div class="codebigbox">
<pre>
	<span>[...]</span>
	<span>critter_dat=</span>
	<span>critter_patches=</span>
	<span>[...]</span>
	<span>master_dat=</span>
	<span>master_dat=</span>
	<span>master_patches=</span>
	<span>[...]</span>
</pre>
</div>
</li>
		<p>The mapper is looking for files to work with. Because these lines are empty the mapper cannot start. We need to tell the mapper where the files are located  it's looking for.Fill in the lines like this...</p>
<li>
<div class="codebigbox">
<pre>
	<span>[...]</span>
	<span>critter_dat=E:\Fallout2\critter.dat</span>
	<span>critter_patches=E:\Fallout2\data</span>
	<span>[...]</span>
	<span>master_dat=E:\Fallout2\master.dat</span>
	<span>master_patches=E:\Fallout2\data</span>
	<span>[...]</span>
</pre>
</div>
</li>					
		<p>Save 'mapper2.cfg' and close it. Now run 'mapper2.exe' again and it should start.</p>
		<p>First time running BIS Mapper should look like this...</p>
		<img src="images\Preparations\ToolsMapping\2022-04-21 14_21_45-Greenshot.png" alt="">
		<p>You're ready for mapping :)</p>
<br>
<hr>
<hr>

<div id="mapping"><h2>Mapping</h2></div>
<br>

	<div id="BIS_Mapper_explained"><h3>BIS Mapper explained</h3></div>
		<p>Let's take a look at the interface and it's buttons.</p>
		<img src="images\Preparations\ToolsMapping\2022-04-21 14_21_45-Greenshot - Kopie.png" alt="">
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 20_59_01-Tiles.png" alt="">
		<p>This is a dropdown menu. Tiles are currently selected.</p>
		<img src="images\Preparations\ToolsMapping\2022-04-22 11_54_06-Hex.png" alt="">
		<p>The left dark grey field shows the number of the hexagonal area when an object is placed and selected.</p>	
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_13_39-Object_bar.png" alt="">
		<p>This bar shows the objects of the current chosen object category.</p>
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 20_59_10-Navigate_left.png" alt="">
		<img src="images\Preparations\ToolsMapping\2022-04-21 20_59_22-Navigate_right.png" alt="">
		<p>These are the navigation panels to scroll left or right through the currently chosen object category.</p>
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 20_59_54-Visible.png" alt=""><p>With this panel you can toggle the visibility of a certain object category.</p>
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 20_59_45-Elevation_1.png" alt="">
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_50_14-Elevation_2.png" alt="">
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_50_44-Elevation_3.png" alt="">
		<p>Here you can choose the map elevation.</p>
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_01-Direction_Northeast.png" alt="">
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_01-Direction_East.png" alt="">
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_01-Direction_Southeast.png" alt="">
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_01-Direction_Southwest.png" alt="">
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_01-Direction_West.png" alt="">
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_01-Direction_Northwest.png" alt="">
		<p>This clock looking thing shows the directions a critter can turn. Northeast; East; Southeast; Southwest; West and Northwest.</p>
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_09-Multifunctional.png" alt="">
		<p>This panel has multiple buttons that serve multiple purposes. COPY; COPY ALL; DELETE should be clear. EDIT is used to edit an objects properties.</p>
		<p>TBOV stands for 'Toggle Block Object View' and it turns special tiles that are normally invisible to visible.</p>
		<p>EDG stands for 'Edge' and it allows to set the viewable region for the player when they're on the map. But you need your map first.</p>
		<p>The * symbol toggles the players viewable region on or off while editing a map.</p>
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_16-Description.png" alt="">
		<p>This panel shows a description of a currently selected object.</p>
		<p>For example...</p>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_32_54-Description_selected_Object.png" alt="">
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-22 11_49_56-Description_reselected_Object.png" alt="">
		<p>If you already placed an object and you reselect it, the description panel will show you a shortened description.</p>
		<br>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_00_27-Function_bar.png" alt="">
		<p>When you bump the edge of the top screen with the mouse pointer, this panel will appear.</p>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_31_32-Functionbar_File.png" alt="">
		<h5>New</h5>
			<p>Create a new map (No way!)</p>
		<h5>Open</h5>
			<p>Open an existing map (Really?!)</p>
		<h5>Save</h5>
			<p>Save the status of the currently open map.</p>
		<h5>Save As...</h5>
			<p>Save the status to a specific map.</p>
		<h5>Info</h5>
			<p>Does nothing (Maybe anybody knows more.).</p>
		<h5>Open From Text</h5>
			<p>You get an error message (Maybe anybody knows more.).</p>
		<h5>Quit</h5>
			<p>Terminate the mapper (Didn't expect that.)</p>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_31_50-Functionbar_Tools.png" alt="">
		<h5>Create Pattern</h5>
		<h5>Use Pattern</h5>
		<h5>Move Map</h5>
		<h5>Move Map Elev</h5>
		<h5>Copy Map Elev</h5>
		<h5>Edit Obj_dude</h5>
		<h5>Flush Cache</h5>
		<h5>Toggle Anim Stepping</h5>
		<h5>Fix map-objects to pids</h5>
		<h5>Set Bookmark</h5>
		<h5>Toggle Block Obj View</h5>
		<h5>Toggle Click-To-Scroll</h5>
		<h5>Set Exit-Grid Data</h5>
		<h5>Mark Exit-Grids</h5>
		<h5>Mark *ALL* Exit Grids</h5>
		<h5>*Clear Map Level*</h5>
		<h5>Create ALL MAP TEXTS</h5>
		<h5>Rebuild ALL MAPS</h5>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_32_03-Functionbar_Scripts.png" alt="">
		<h5>List all Scripts</h5>
		<h5>Set Start Hex</h5>
		<h5>Place Spatial Script</h5>
		<h5>Delete Spatial Script</h5>
		<h5>Delete *ALL* Spatial SCRIPTS!</h5>
		<h5>Create Script</h5>
		<h5>Set Map Script</h5>
		<h5>Show Map Script</h5>
		<br>
		<img src="images\Preparations\ToolsMapping\2022-04-21 21_33_17-Functionbar_Settings.png" alt="">
		<h5>Scroll Blocker Mode</h5>
		<h5>Screen Settings</h5>
		<h5>Set Hi-Res Map Edges</h5>
		<h5>Set Hi-Res Angled Edges</h5>
		<br>

		<div id="hotkeys"><h4>Hotkeys</h4></div>
			<h5>Introduction</h5>
				<p>When there's a slash ( / ), the left part is in game mode (F8, and usually works
					in the normal game) while the right is in the editor. Most of the normal game
					functions still work in the editor - moreso in the game mode of course. The M
					key is especially useful for selecting critters as it doesn't have the issue of
					"clicking a bunch of time until you hit the critter" problem mentioned in the
					documentation since you know exactly where you click. If there's a third slash
					in the command then these are commands available in the dialog windows. When
					there's a slash with nothing in front or after it, it means the command isn't
					available in that mode.</p>
				<p>	Fallout2/Mapper2 does not block out any of the windows key combinations so all
					Windows-specific keys will work (Win, Win-B, Win-D, Win-E, Win-F, Win-L, Win-M,
					Win-U, Win-Pause, Alt-Tab, Alt-Shift-Tab, Alt-Esc, Alt-Shift-Esc, Ctrl-Alt-Del,
					Ctrl-Esc - Some of the listed combinations might not work depending on you OS
					version). Additionally, keyboard with extra "Multimedia" or "Internet" keys
					handle those keys as should be. External "HotKey" programs should work as
					expected in the game given that there is no special handling done on the
					keyboard input.</p>
			<br>
			<h5>Key mappings</h5>
				<p>[ A ]: Attack/</p>
				<p>[ B ]: Switch attack weapon/Fix map objects to PIDs (same as menu)/Barter</p>	
				<p>[ C ]: Character/Copy (Note: When using copy, only the current proto selection are copied. This also works for tiles!)/</p>
				<p>[ D ]: Switch light level look of map (day, night et al)</p>
				<p>[ E ]: /Edit selected proto</p>
				<p>[ F ]: Toggle FPS display</p>
				<p>[ I ]: Inventory/List scripts (same as menu)</p>
				<p>[ K ]: Kill critter (and resuscitate!)</p>
				<p>[ L ]: Lock (doors)/Give 500xp to OBJ_DUDE</p>
				<p>[ M ]: Change mouse cursor to arrow/ change to normal cursor</p>
				<p>[ N ]: Switch attack mode/Advance 1 month</p>
				<p>[ O ]: Options</p>
				<p>[ P ]: Pipboy/Find selected proto in selection bar</p>
				<p>[ Q ]: Make walls and generic scenery semi-transparent</p>
				<p>[ R ]: Toggles roofs on and off</p>
				<p>[ S ]: Skilldex/Place location script</p>
				<p>[ T ]: Advance 1 minute/Open edit mode menu</p>
				<p>[ U ]: /Use item (open or close)</p>
				<p>[ W ]: Worldmap (Note: if PROs are read-only, it crashes)</p>
				<p>[ Z on QWERTY, Y on QWERTZ ]: Rest/</p>
			<br>
				<p>[ ? on QWERTY, - (hyphen) on QWERTZ ]: Display game time</p>
				<!--<p>[ , ]: /One step change of daylight</p>-->
				<p>[ + (plus) & - (minus) ]: Adjust brightness level/Move proto list right and left; if you selected apattern, it allows you to "paste" a greater region of the pattern</p>
				<p>[ , & . ]: Rotate OBJ_DUDE left and right/</p>
			<br>
				<p>[ End ]: Go to last item in proto list</p>
				<p>[ Del ]: Go in delete mode (same as button in UI)</p>
				<p>[ Page up, Page down ]: Change map elevation</p>
				<p>[ (Arrow keys) Up, Down, Left, Right ]: Move POV</p>
				<p>[ Home ]: Return POV to map level origin</p>
				<p>[ Esc ]: Cancel menu/quit editor</p>
				<p>[ Tab or Ctrl-I ]: Pipboy Map (When in game mode it displays more data. Ctrl-I is the usual code to represent a tab)</p>
				<p>[ Left-Click ]: Move to, look/Select Item</p>
				<p>[ Right-Click ]: Change attack mode/Cancel current action
					(Note: When placing tiles, instead of clicking repeatably on the mouse to place a bunch of them, leave the mouse pressed and move the mouse slowly)</p>
			<br>
				<p>[ Alt-A ]: Save map as</p>
				<p>[ Alt-B ]: Edit OBJ_DUDE</p>
					<p>(Note: As in the menu, and as with the menu, when exiting
					this function it leaves the screen mostly black. Press F8 to play the map
					with the modified OBJ_DUDE. Note that every second time, it won't work so
					you'll need to press F8 until it restores the colors)</p>
				<p>[ Alt-F ]: File menu</p>
				<p>[ Alt-G ]: Shift map (use Left/Right/Up/Down keys to move map)</p>
				<p>[ Alt-H ]: Behaves like P but crashes the application if you're using the wrong type of proto (click on a critter while in Tile mode). 
					It seems to read all the protos of the type you selected.</p>
				<p>[ Alt-I ]: Load text map (disabled - same as menu)</p>
				<p>[ Alt-N ]: New map</p>
				<p>[ Alt-O ]: Open map</p>
				<p>[ Alt-P ]: Save text map (need to have a "saved" name for the map first or it will crash, you can then use "Rebuild all maps" to generate the maps from the text files)</p>
				<p>[ Alt-S ]: Save map</p>
				<p>[ Alt-T ]: Scripts menu</p>
				<p>[ Alt-V ]: Tools menu</p>
				<p>[ Alt-W ]: Set map script</p>
				<p>[ Alt-Y on QWERTY, Alt-Z on QWERTZ ]: Use pattern</p>
				<p>[ Alt-F4 ]: Quit real game</p>
				<p>[ Alt-F7 ]: /Takes snapshots of the map to build a series of tiles which when placed together allows you to see the entire map. 
					(The current POV needs to be inside the scroll blockers for this to work properly)</p>
			<br>
				<p>[ Ctrl-Left-Click ]: Place multiple proto onto map (for items)</p>
				<p>[ Ctrl-F ]: /Disable sound effect cache</p>
				<p>[ Ctrl-J or Ctrl-Enter]: Give object to OBJ_DUDE</p>
				<p>[ Ctrl-L ]: Load savegame</p>
				<p>[ Ctrl-N ]: Advance 1 month</p>
				<p>[ Ctrl-P ]: Pause</p>
				<p>[ Ctrl-Q or Ctrl-X ]: Quit</p>
				<p>[ Ctrl-T ]: Advance 1 day</p>
				<p>[ Ctrl-S ]: Save game/</p>
				<p>[ Ctrl-V ]: Version</p>
				<p>[ Ctrl-End ]: Go to proto 0 in list</p>
				<p>[ Ctrl-Up, Ctrl-Down (Arrow keys) ]: Rotate critter North/South</p>
				<p>[ Ctrl-Left, Ctrl-Right (Arrow keys) ]: Rotate critter Left/Right</p>
				<!--<p>[ Ctrl-/ ]: In the Ctrl-J, Ctrl-Enter menu, allows you to give multiple number of an item depending on which page you are (weird)</p>-->
				<p>[ Ctrl-F1 ]: /Toggle Items display (doesn't update UI)</p>
				<p>[ Ctrl-F2 ]: /Toggle Critters display (doesn't update UI)</p>
				<p>[ Ctrl-F3 ]: /Toggle Scenery display (doesn't update UI)</p>
				<p>[ Ctrl-F4 ]: /Toggle Walls display (doesn't update UI)</p>
				<p>[ Ctrl-F5 ]: /Toggle Tiles display (doesn't update UI)</p>
				<p>[ Ctrl-F6 ]: /Toggle Misc display (doesn't update UI)</p>
				<p>[ Ctrl-F7 ]: /Delete script</p>
				<p>[ Ctrl-F12 ]: Switch between game only and Old Mapper mode/</p>
			<br>
				<p>[ 1 ]: Use Sneak skill/Goto bookmark 1/Answer 1</p>
				<p>[ 2 ]: Use Lockpick skill/Goto bookmark 2/Answer 2</p>
				<p>[ 3 ]: Use Steal skill/Goto bookmark 3/Answer 3</p>
				<p>[ 4 ]: Use Traps skillGoto bookmark 4/Answer 4</p>
				<p>[ 5 ]: Use First aid skill/Goto bookmark 5/Answer 5</p>
				<p>[ 6 ]: Use Doctor skill/Goto bookmark 6/Answer 6</p>
				<p>[ 7 ]: Use Science skill/Goto bookmark 7/Answer 7</p>
				<p>[ 8 ]: Use Repair skill/Goto bookmark 8/Answer 8</p>
				<p>[ 9 ]: /Goto bookmark 9/Answer 9</p>
				<p>[ 0 ]: /Goto bookmark 0/Exit dialog</p>
			<br>
				<p>[ F1 ]: Help/Select items</p>
				<p>[ F2 ]: /Select critters</p>
				<p>[ F3 ]: /Select scenery</p>
				<p>[ F4 ]: Save/Select walls</p>
				<p>[ F5 ]: Load savegame/Select tiles</p>
				<p>[ F6 ]: Quick save/Select misc</p>
				<p>[ F7 ]: Quickload savegame</p>
				<p>[ F8 ]: Switch to and from game mode. (Note that going and leaving the game mode restores the POV to its start hex)</p>
				<p>[ F9 ]: /Rebuild item protos (Librarian menu - need librarian=1 in .cfg)</p>
				<p>[ F10 ]: Quit/Rebuild proto lists (Librarian menu - need librarian=1 in .cfg)</p>
				<p>[ F11 ]: /Rebuild all (Librarian menu - need librarian=1 in .cfg)</p>
				<p>[ F12 ]: Screenshot</p>
			<br>
			<h5>Shift commands</h5>
				<p>Note: If a command is assigned in the game with the normal key, then using it with the Shift key ends up using that command as in the game. If
					isn't used in the game but is in the editor, then it will use the editor command.</p>
			<h5>Except for</h5>
				<p>[ Shift-A ]: /Destroy all scripts</p>
				<p>[ Shift-B ]: Toggle between kick and punch</p>
				<p>[ Shift-L ]: OBJ_DUDE gain level</p>
				<p>[ Shift-C ]: /Copy All (Same as UI: copy everything except tiles)</p>
				<p>[ Shift-W ]: World Map/Assign hotkey to the W key to trigger an chosen animation</p>
				<p>[ Shift-K ]: /Kill critter and choose death (and resuscitate!)</p>
				<p>[ Shift-F9 ]: Edit AI packet for critter (Note: Crashes on second try, you'll need to know the packet AI number as the game always pops up the same, 
					when selecting "Done" without selecting any item in the various lists it usually pops up a dialog which permits you to type the string instead of selecting it in the menu. 
					If you type a non-existing string, the editor will create a new entry for you. You cannot add or remove new AI scripts without modifying the executable. 
					You can edit more then one AI entity while in the menu by changing the AI number before pressing done)</p>
				<p>[ Shift-F11 ]: Edit stats for critter</p>
				<p>[ Shift-+ or Keypad +, Shift-- ]: /Move proto list right or left by 10</p>
			<br>
			<h5>Map keys</h5>
				<p>You can use the 0 through 9 keys to access any of the defined entrances on a map (accessed from the worldmap on any other occasion then the first). 
					This will work regardless of whether you can see the entry point on the map or not and also works in the normal game (sadly).</p>
			<br>
			<h5>Generic Keys</h5>
				<p>The options menu can be driven using the first letter of the button you wish to select. The same can be said with Yes/No dialogs, 
					as well as the real games main menu and various sub-menus (e.g. load menu, create new char menu, etc.)
					Lists can be handled with Up/Down buttons, as well as Page Up and Page Down when the list has more items then the area can display. 
					In addition, various element lists (such as a file list) can be controlled by typing the first letter of the item you're looking for 
					(for example, type D to skip to the first D file in the map list when loading a map). Pressing Enter is equivalent to clicking OK. Pressing Escape cancels the dialogs.</p>
			<br>
			<h5>Librarian mode</h5>
				<p>The librarian menu can be toggled on with override_librarian=1 in the .cfg, note that while it's enabled you can't save your map.</p>
			<br>
			<h5>Loading saved games</h5>
				<p>You can load saved games into the editor, note however that the games files are used instead of the ones found in the directories and/or the DATs when possible. 
					Also note that if you extracted and modified PRO files in your "working" directory, chances are loading the savegame will delete them so you'd need to make them read-only - also see the W key above about this. 
					Additionally there seems to be problems in using edited PROs in savegames as their map properties are not updated in the actual savegame.</p>
			<br>
			<h5>Editing PRO files</h5>
				<p>To get the PRO files to be editable, on the same drive that you run the mapper, create /fallout2/dev/proto, and in it place the directories critters, items, scenery, tiles, walls and misc. 
					Once that's done you can edit the PRO files by simply Right-Clicking on them with the mouse and Clicking the Edit button (or pressing E). 
					You also need to make sure that librarian is set to 1 in the .cfg (and preferably librarian_override still set to 0 if you still want to be able to save maps).</p>
				<p>An important note is that each PRO contains its own PID in the file. If you copy a PRO file to overwrite another one or create a new one at the end of the list, 
					you'll need to make sure the internally contained PID matches the its own critter.lst line number. You could hex edit it, or:</p>
				<p>* edit the proto, thus creating the text file reference.</p>	
				<p>* rebuild the protos (F9, see above, though you might need to use F11).</p>	
			<br>
			<h5>Bookmarks</h5>
				<p>Bookmarks deserve a special entry: they are saved right beside the map in the same name as the maps but with the .cfg extention when you save your game. 
					When loading the map it will automatically load the bookmarks. If none exist, the mapper will keep the current bookmark set in memory for any new map and use it.
					This means that if you edited a map and are rather happy with your bookmarks, you can first load that map to read the bookmarks and then load the map you wish to edit. 
					If the bookmarks aren't working then it's most probably because you've already toyed with the map and the .cfg already exists and is thus read (with no bookmarks set); 
					as such you should probably delete it's .cfg file to import your favorite bookmarks.</p>
			<br>
			<h5>Recording mode</h5>
				<p>In the games main menu hit Ctrl-R. This will ask you to load a map and then select a name (for the recording). You've now started a recording and to exit you'll need to hit Ctrl-R again. 
					Once recorded, Fallout2 will play the recording every other time instead of the main movie. 
					If there's more then one recording it'll iterate through each of them (as well as the main movie). 
					You can also use this trick to load the map you wish and play it in the real game by saving the game, quitting the recording and loading your recently saved game.</p>
			<br>
			<h5>Debug Mode</h5>
				<p>The mapper, like the game, can be run in debug mode. Unlike the game, the mapper doesn't need to be hacked to access it. 
					All you need is to set the DEBUGACTIVE environment variable to GNW (For a debug right on the screen) or LOG to create the file debug.log in your Fallout2 directory.</p>
				<p>See said patch for further informations about the options available in the .cfg.</p> 
			<br>
			<h5>Editor UI Specific Keys</h5>
				<p>Slashes ( / ) seperate here the proto editing (left side) and the instance editing (right side). 
					Note that usually the same command works for the instance when availble then it is for the proto. For sakes of simplicity commands which were similar (ie: at worst, press or release shift in relation to the protos) were omitted.</p>
				<p>These are keys which can be used in various dialogs which pop up in the editor, mostly for editing protos:</p>
				<p>[ , ]: "<<" and ">>" buttons</p>
				<p>[ - , + ]: "(*" and "*)" buttons</p>
				<p>[ Enter or Ctrl-M ]: Done (Ctrl-M is the usual keycode used to represent Enter)</p>
				<p>[ Esc ]: Cancel</p>
				<p>[ Shift- ]: Scroll left-right 10 in SCENERY list (regardless of wether your're editing a scenery). This can be used to your advantage if you have the version of the game where kids are removed as
					when reaching the kid, the UI doesn't go further using the left/right button. Simply use Shift-] to skip over it and scroll back using the left button. If you set a item (for
					example) to a scenery reference, the graphic will still act as a scenery, not as an item. So you can't abuse this feature to make other proto types out of sceneries.</p>
			<br>
			<h5>Tiles</h5>
				<p>[ M ]: Material</p>
				<p>[ N ]: Name</p>
				<p>[ F ]: Flags (Saved, but are they even used?)</p>
			<br>
			<h5>Scenery</h5>
				<p>[ D ]: Description</p>
				<p>[ E ]: /Set destination elevation</p>
				<p>[ F ]: Flags</p>
				<p>[ I ]: Sound ID</p>
				<p>[ L ]: Light</p>
				<p>[ N ]: Name</p>
				<p>[ M ]: Material/Destination map number</p>
				<p>[ S ]: /New script</p>
				<p>[ T ]: Type/Destination tile, elevator type</p>
			<br>
				<p>[ Shift-S ]: Script</p>
				<p>[ Shift-W ]: Walkthrough</p>
			<br>
			<h5>Critters</h5>
				<p>[ 1 ]: Stats screen for critter</p>
				<p>[ 2 ]: Stats screen for OBJ_DUDE. Note that when done it returns to the map instead. You'll need to press esc to return to the editing UI.</p>
			<br>
				<p>[ A ]: Action point bonus</p>
				<p>[ B ]: Body type</p>
				<p>[ C ]: Critical bonus/Clear inventory</p>
				<p>[ D ]: Description</p>
				<p>[ F ]: Flags</p>
				<p>[ H ]: Talking head Fid</p>
				<p>[ I ]: /Add to inventory</p>
				<p>[ L ]: Light</p>
				<p>[ N ]: Name</p>
				<p>[ R ]: Damage resistance</p>		
				<p>[ S ]: Sequence damage bonus (note that it displays Melee damage instead!)</p>
				<p>[ V ]: /View inventory</p>	
			<br>
				<p>[ Shift-1 ]: Critter flags</p>
				<p>[ Shift-A ]: AI Packet</p>	
				<p>[ Shift-B ]: Barter</p>
				<p>[ Shift-D ]: Damage type</p>	
				<p>[ Shift-H ]: HP Bonus</p>
				<p>[ Shift-K ]: Kill type</p>	
				<p>[ Shift-R ]: Damage threshold</p>
				<p>[ Shift-S ]: Script</p>	
				<p>[ Shift-T ]: Team number</p>
				<p>[ Shift-U ]: Action flags (Useable)</p>	
				<p>[ Shift-X ]: Experience</p>
			<br>
			<h5>Walls</h5>
				<p>[ D ]: Description</p>
				<p>[ F ]: Flags</p>
				<p>[ L ]: Light</p>
				<p>[ N ]: Name</p>
			<br>
				<p>[ Shift-U ]: Action flags (useable)</p>
				<p>[ Shift-S ]: Script</p>
			<br>
			<h5>Misc</h5>
				<p>[ F ]: Flags</p>
				<p>[ D ]: Description</p>
				<p>[ N ]: Name</p>
			<br>
			<h5>Items</h5>
				<p>[ 1 - 9, Shift-1 - Shift-9 ]: Specific item type options. Note that the drugs type has the keys separated into an upper and lower part.</p>
			<br>
				<p>[ W ]: Weight</p>
				<p>[ T ]: Item Type</p>
				<p>[ I ]: Sound ID</p>
				<p>[ S ]: Size</p>
				<p>[ D ]: Description</p>
				<p>[ F ]: Flags</p>
				<p>[ L ]: Lighting</p>
				<p>[ V ]: Cost (Value)</p>
				<p>[ N ]: Name</p>
				<p>[ M ]: Material</p>
			<br>
				<p>[ Shift-U ]: Action flags (Useable)</p>
				<p>[ Shift-I ]: Inventory FID</p>
				<p>[ Shift-S ]: Script</p>
			<br>
				<h5>Flags</h5> <p>(whenever in an edit flags menu)</p>
				<p>[ 1 - 0, - (hyphen) on QWERTY, ? on QWERTZ, (NUM-Block) Shift--, Shift-0 - Shift-9 ]: Toggle options. Note that some options which are not displayed can be toggled but who knows what they do and what happens if you toggle them.</p>
	<br>
	<hr>

	<div id="BuildMap"><h3>How to build a map</h3></div>
	<br>
	
		<div id="FloorWall"><h4>Floors and walls</h4></div>
			<p>First you need a floor for your map. It's recommended to always place the tiles first because walls and tiles don't always match. 
				If you'd place walls first it isn't guaranteed that placing the tiles afterwards matches with the already placed walls.</p>
			<p>You can do this one of 2 ways, by hand, or by using the patterns included with the editor.</p>
			<p>To do it by hand, you just scroll through the tiles selector at the bottom of the screen and choose the tiles you want, 
				right click on the one you want to stamp down, then left-click on the map area where you want to place it.</p>
			<img src="images\mapping\Floors_and_walls\Bas01.webp" alt="">
			<p>To use the patterns, you simply have to go to the tools menu, and select 'use pattern'.</p>
			<img src="images\mapping\Floors_and_walls\Bas02.webp" alt="">
			<p>Select the pattern you want to use from the window that pops up. </p>
			<img src="images\mapping\Floors_and_walls\Bas03.webp" alt="">
			<p>Then just click away all over that black screen that is your map. </p>
			<p>When you are done stamping the pattern down, right click to exit the pattern mode. </p>
			<p>To speed things up a bit, you can make a large area, then copy it using the copy button on the tool bar at the bottom. </p>
			<p>While you have the pattern selected, you can press the + (plus) and - (minus) keys to make the pattern stamp bigger or smaller. (2x2, 3x3, 4x4 etc.) </p>
			<img src="images\mapping\Floors_and_walls\Bas04.webp" alt="">
			<p>Once you have a basic floor to your map, you need to put down the 'footprint' of all your buildings and things such as roads, there are no patterns for this so you'll just have to do it by hand.</p>
			<p>I recommend using tiles that make a 'grid' for the footprint to your buildings. You can change it later but it helps with placing the walls. </p>
			<img src="images\mapping\Floors_and_walls\Tiles grid small.png" alt="" width="900" height="500">
		<br>
		<br>
		<br>
		<br>

			<p>Next you need to place the walls, so set the selector to walls, and find the look you are going for.</p>
			<img src="images\mapping\Floors_and_walls\Bas06.webp" alt="">
			<p>Some wall sections are spread all over the selector bar, this was because sections of wall were added as they became needed by the original mappers, so you might have to hunt for that corner you want.</p>
			<p>You should ideally place your walls on the 'grid' if you intend to include roofs to your buildings.</p>
			<p>Because of the way some wall pieces are made, they leave 'holes' that the player can walk through. Corners are especially prone to this. </p>
			<p>Turn on the hex grid. You will see that the walls have red hexes below them. These are areas the player cannot go (in simple terms). </p>
			<img src="images\mapping\Floors_and_walls\Bas07.webp" alt="">
		<br>
		<br>
			<p>Where the wall has no red hex below them, that is where the 'hole' is (Hole under wall. Walls turned off for clarity).</p>
			<img src="images\mapping\Floors_and_walls\All walls + hexes + holes small.png" alt="" width="700" height="500">
			<img src="images\mapping\Floors_and_walls\No walls + hexes + holes small.png" alt="" width="700" height="500">
		<br>
		<br>
			<p>To plug these 'holes' with a wall blocker, found in the walls selector, tile number 620 and 621. They are named 'wall' and 'wall s.t.' respectively, 
				and are a solid wall, and a wall that can be shot through (hence the s.t.).</p>
			<img src="images\mapping\Floors_and_walls\Bas10.webp" alt="">
			<p>They are placed just like normal walls, but they do not show up on the map normally, they just make the hex red.</p>
			<p>To be able to see them, you need to turn 'Toggle Block Obj View' on in the Tools menu.</p>
			<img src="images\mapping\Floors_and_walls\Bas11.webp" alt="">
		<br>
		<br>
			<p>The Blockers show up as a green hex with a 'W' in them. The solid walls have a solid 'W' (shown on the left in the pic), and the 'shoot through' walls have a faded 'W' in them (shown on the right in the pic).</p>
			<img src="images\mapping\Floors_and_walls\All walls + hexes + hole filler small.png" alt="">
		<br>
		<br>
			<p>The result of filling the holes looks like this.</p>
			<img src="images\mapping\Floors_and_walls\No walls + hexes + no holes small.png" alt="" width="700" height="500">
		<br>
		<br>
			<p>Have placed the tiles plus all walls plus roof and filling up the holes looks like this.</p>
			<img src="images\mapping\Floors_and_walls\All walls + roof small.png" alt="" width="700" height="500">
		<br>
		<hr>

		<div id="SceneryCritter"><h4>Scenery and critters</h4></div>
			<p>Our basic map should now be ready. Now place the objects (Scenery). We place some objects that we think fit into the current scene. 
				But be careful... sometimes less is more! Don't try to put the same scenery elements several times in the map so that you get them on one screen. 
				Otherwise you will get the impression that everything is always repeated. And that usually looks ugly or boring.</p>
			<img src="images\mapping\Scenery and critters\Scenery small.png" alt="" width="700" height="500">
			<p>Placing Critters. We select "Critters" in the gray box at the bottom left. Now we can place the existing critters into the map. 
				(I'll tell you later how to create new critters) Use the arrows at the bottom of the screen to indicate in which direction the figure should look. 
				When we have placed a person, we press the M key to get the arrow cursor. We click on the figure and click EDIT at the bottom. 
				Now we can make various settings, such as setting the inventory or assigning a script to the character.</p>
			<img src="images\mapping\Scenery and critters\Critters small.png" alt="" width="700" height="500">
			<p>Now come the rest of the details, such as setting light sources. Some scenery objects emit light by themselves, like the burning barrels. 
				But that's not enough for us, so we'll add some lights ourselves. To do this, we go to "Scenery" in the lower left corner and move to tile number 140. 
				This is our light source. Select it with the right mouse button and place it in the map at the desired position.</p>
			<p>IMPORTANT: You have to activate "Toggle Block Obj View" (Tools -> Toggle Block Obj View) before, otherwise you can't see the light source! Or just press 'TBOV' on bottom screen.</p>	
			<p>Under Scripts -> Set Start Hex we determine the start location of the player.</p>	
			<img src="images\mapping\Scenery and critters\Light source visible small.png" alt="">
		<br>
			<img src="images\mapping\Scenery and critters\Light source small.png" alt="" width="700" height="500">
			<p>If we now press F8 (default_f8_as_game= must be set to 1 in mapper.cfg), we enter the test game and we can walk around. 
				The critters don't do much yet, since we haven't assigned them a script. If we press the D key, we change the time of day and can see how our placed light sources work. 
				The map is not 100% finished yet. Still missing are the so-called "scroll blockers", which limit the scroll radius of the player and the exit points, 
				which bring the player to the world map etc. This will follow in the next tutorial.</p>
		<br>
		<hr>

		<div id="LadderStair"><h4>Ladders and stairs</h4></div>
			<p>Add your ladders/stairs.</p>
			<img src="images\mapping\Ladders and stairs\Ladder01.webp" alt="">
			<br>
			<img src="images\mapping\Ladders and stairs\Ladder02.webp" alt="">
			<p>I suggest changing your cursor to the arrow ('m' key - press again to change it back) for the next part as it makes selecting ladders easier.</p>
			<p>Select the ladder you want to set the info for.</p>
			<p>Click on the EDIT button, a screen will appear as shown.</p>
			<img src="images\mapping\Ladders and stairs\Ladder03.webp" alt="">
			<p>Click the button called 'Dest Tile' and put in the hex number you would like the player to 'arrive' on the destination level.</p>
			<p>To find the hex number, click on the floor near the ladder and look in the grey box in the bottom left corner, it is the number 19902 on the left.</p>
			<img src="images\mapping\Ladders and stairs\Ladder04.webp" alt="">
			<p>Click the button called 'Dest Elev' and put in the number of the 'level' you want the ladder/stairs to go to.</p>
			<p>Click the button called 'Dest Map'. This is where you put the number of the map you want the ladder to go to, so you CAN make ladders span maps if you like.</p>
			<p>To get it to go to the same map as it is on, you need to give that map a number in the maps.txt file and put it in the 'Dest Map' box.</p>
			<p>For my example map, I ended up with the following.</p>
			<img src="images\mapping\Ladders and stairs\Ladder05.webp" alt="">
			<p>Click 'Done'.</p>
			<p>Repeat steps 4 - 11 for the other ladders/stairs.</p>
		<br>
		<hr>

		<div id="ScrollBlocker"><h4>Scroll blocker</h4></div>
			<p>When you're finished to build your map, you need to put Scroll Blockers to limitate until where the screen can scroll.</p>
			<p>You do that by clicking on 'EDG' on bottom screen. You'll receive this menu.</p>
			<img src="images\mapping\Scroll Blocker and level exits\EDG.png" alt="">
			<p>You can set the borders by clicking on the four arrows directing in different directions.</p>
			<img src="images\mapping\Scroll Blocker and level exits\EDG choose.png" alt="">
			<p>If you click them a green line will appear and stick to your cursor.</p>
			<img src="images\mapping\Scroll Blocker and level exits\EDG chosen.png" alt="">
			<p>Just left-click on an area where you desire the edge of the screen to stop.</p>
			<img src="images\mapping\Scroll Blocker and level exits\EDG place.png" alt="" width="700" height="500">
			<p>When you're done placing all directions just press 'save'.</p>
			<img src="images\mapping\Scroll Blocker and level exits\EDG placed save.png" alt="" width="700" height="500">
			<p>You can turn the visibility of the scroll blocker on/off with the asterisk on the bottom panel.</p>
			<img src="images\mapping\Scroll Blocker and level exits\EDG asterisk.png" alt="" width="550" height="250">
			<p>That's the result in game.</p>
			<img src="images\mapping\Scroll Blocker and level exits\EDG scroll block.png" alt="">
		<br>
		<br>
		<br>
		<br>
		<hr>

		<div id="MapExit"><h4>Map exits</h4></div>
			<p>If you want to exit the map you're currently on, there are two possibilities how to leave it. Exit to the next map or exit to the worldmap.</p>
		<br>
		<div id="""><h5>Map exit to another map</h5></div>
			<p>Let's begin with exit to another map.</p>
			<p>You may know the green and brown exit grids of the Fallout Classic games.</p>
			<p>Inside the mapper there are even three types of exit grids. Green, brown and black but only the green ones work. The other two don't and shouldn't be used.</p>
			<img src="images\mapping\Scroll Blocker and level exits\all exit grids.png" alt="">
			<p>Choose 'Misc', the green ones begin at 15 to 22. Okay, so put some green exit grids on the map. Notice that only the red hexagons on the green exit grids do something.</p>
			<img src="images\mapping\Scroll Blocker and level exits\green exit grids placed.png" alt="">
			<p>Now it's time to write down some information about your map.</p>
<li>
<div class="codebigbox">
<pre>
	<span>map name:</span>
	<span>map number:</span>
	<span>lookup name:</span>
	<span>hex number:</span>
	<span>map level:</span>
</pre>
</div>
</li>
			<p>Before I explain what the individual information mean, we need to do another step first.</p>
		<br>
			<h5>MAPS.TXT</h5>
			<p>Open MAPS.txt located inside...</p>
			<pre><code>E:\Fallout2\data\data</code></pre>
			<p>Scroll to the bottom and the last entry should look like this.</p>
<li>
<div class="codebigbox">
<pre>
	<span>[Map 150]</span>
	<span>lookup_name=Bess Dead</span>
	<span>map_name=rndbess</span>
	<span>music=07desert</span>
	<span>saved=No</span>
</pre>
</div>
</li>
			<p>Now fill in your map information like this.</p>
<li>
<div class="codebigbox">
<pre>
	<span>[Map 151]</span>
	<span>lookup_name=Testmap number6</span>
	<span>map_name=tm_s6</span>
</pre>
</div>
</li>							
			<p>'lookup_name=' This is the full name of the map. My map is called 'Testmap number6'. You can take up to 144 characters.</p>
			<p>'map_name=' Is the name of the file of your map, e.g. arrvillage for Arroyo village. My map is called 'tm_s6' without the extension .map.</p>
		<br>
			<p>These following two information are not mandatory to make the map work.</p>
<li>
<div class="codebigbox">
<pre>
	<span>'music=' Set any music you want in the  (see other entries for examples of what music you can use)</span>
	<span>'saved=' Change 'saved=No' to 'saved=Yes' (this makes the game save the status of the map when you save the game, so you can drop things and not lose them)</span>
</pre>
</div>
</li>							
			<p>Save the information.</p>
		<br>
			<p>The other information mean this...</p>
			<p>'map number:' This is the number we gave our map. In this case '151'.</p>
			<p>'hex number:' This is the number of the hex where you want obj_dude to start after exiting and reentering the new map. I chose hex number '18697'.</p>
			<p>'map level:' This is the elevation of your map. Inside the mapper you'll see 1, 2 and 3. But the engine handles this differently. 
				(Mapper)1 = (Engine)0; (Mapper)2 = (Engine)1; (Mapper)3 = (Engine)2. My map is at elevation (Mapper)1 = (Engine)0.</p>
		<br>
			<p>Okay, we have every information we need to be able to do an exit to another map.</p>
<li>
<div class="codebigbox">
<pre>
	<span>map name: 	tm_s6</span>
	<span>map number: 	151</span>
	<span>lookup name:	Testmap number6</span>
	<span>hex number:	18697</span>
	<span>map level:	0</span>
</pre>
</div>
</li>							
			<p>Return to the mapper.</p>
			<p>Choose 'TOOLS' -> 'Set Exit-Grid Data'.</p>
			<img src="images\mapping\Scroll Blocker and level exits\Set Exit-Grid Data.png" alt="">
			<p>Four smaller windows will appear.</p>
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Map -1.png" alt="">
			<p>Exit Grid Dest Map is our map number.</p>
		<br>
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Tile -1.png" alt="">
			<p>Exit Grid Dest Tile is our hex number.</p>
		<br>	
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Elevation.png" alt="">
			<p>Exit Grid Dest Elevation is our map level.</p>
		<br>	
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Rotation.png" alt="">
			<p>Exit Grid Dest Roration is the rotation of obj_dude.</p>
		<br>
			<p>Let's fill in our information.</p>
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Map 151.png" alt="">
			<p>Our map number is 151 which you gave in MAPS.txt.</p>
		<br>
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Tile 18697.png" alt="">
			<p>Our hex number is 18697 where obj_dude will be teleported after stepping on the now invisible red hex field on the green exit grid.</p>
		<br>
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Elevation.png" alt="">
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Rotation.png" alt="">
			<p>Elevation an rotation can stay at 0. Because our elevation is (Mapper)1 = (Engine)0. And rotation 0 is northeast, that's ok for now.</p>
		<br>
			<p>Now that we provided our information, we can mark the exit grids.</p>
			<p>Choose 'TOOLS' -> 'Mark Exit-Grids'.</p>
			<img src="images\mapping\Scroll Blocker and level exits\Mark Exit-Grids.png" alt="">
			<p>You will see this...</p>
			<img src="images\mapping\Scroll Blocker and level exits\Entering mark exit_grids mode.png" alt="">
			<p>You don't need to choose every exit-grid for itself. If you click on one exit grid, all exit grids at a scope of 20x20 will be marked.</p>
			<p>Once you're done just press ESC. You will see this...</p>
			<img src="images\mapping\Scroll Blocker and level exits\Exiting mark exit-grids.png" alt="">
			<p>Don't test it right away! You need to save your map first, leave the mapper, reenter it and load your map. Now you can test if it works.</p>
		<br>
		<br>
		<br>
		<div id="""><h5>Map exit to worldmap</h5></div>
			<p>Let's continue with exit to worldmap.</p>
			<p>Exit to worldmap is easier because you don't need to change the information asked when hitting 'TOOLS' -> 'Set Exit-Grid Data'.</p>
			<p>Draw your green exit grids where you want them to exit to worldmap.</p>
			<p>Choose 'TOOLS' -> 'Set Exit-Grid Data'.</p>
			<p> Just let them default. Like this...</p>
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Map -1.png" alt="">
		<br>
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Tile -1.png" alt="">
		<br>	
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Elevation.png" alt="">
		<br>	
			<img src="images\mapping\Scroll Blocker and level exits\Exit Grid Dest Rotation.png" alt="">
			<p>Choose 'TOOLS' -> 'Mark Exit-Grids'.</p>
			<p>Only choose the exit grids which should lead to the worldmap.</p>
			<p>Exit the marking mode and save the map and leave the mapper.</p>
			<p>After you relaunch the mapper you will notice that the green exit grids you chose to exit to worldmap are now brown.</p>
			<p>Go on and test if it works.</p>
		<br>
		<br>
		<hr>
			
	<div id="Worldmap"><h4>Worldmap</h4></div>
		<!-- <p>Put your map in the fallout2\data\maps directory (editor should do it automatically but if it's not your map then put it here).</p>
	<br>
		
		<p>Open the file MAPS.TXT which is found in fallout2\data\data.</p>
		<p>Scroll to the end of the list and copy / paste one of the entry blocks at the end, so you would end up with.</p>
				<code>
					<pre>
						[Map 150] 
						lookup_name=Bess Dead 
						map_name=rndbess 
						music=07desert 
						saved=No 
					</pre>
				</code>
		<p>Re-number the entry block you just pasted as the next in the list (e.g. 151).</p>
		<p>Change the name after 'map_name=' to the name of your map.</p>
		
		<p>'lookup_name' is what the CITY.TXT file references the map with.</p>
		<p>So you would end up with...</p>
				<code>
					<pre>
						[Map 151] 
						lookup_name=TestMap_Entrance 
						map_name=testmap 
						music=07desert 
						saved=Yes 
					</pre>
				</code>
		<p>The 'TestMap_Entrance' is just an identifying name for the map. 'testmap' is the actual name of the map file. </p>
		<p>Save the file.</p> -->
	<br>
		<h5>CITY.TXT</h5>
		<p>You'll probably notice that if you enter your newly created brown exit grid your map is not shown on the worldmap. For this we need to modify CITY.TXT.</p>
		<p>Open CITY.TXT. This is where you set the 'town map' art that comes up for you to choose a shortcut to a part of the town when you enter the map from the worldmap (green triangle).</p>
		<p>Scroll to the end and copy / paste the last entry again, so you would have...</p>
				<code>
					<pre>
						[Area 48] 
						area_name=Reno Stables 
						world_pos=953,882 
						start_state=Off 
						lock_state=on
						size=Small 
						townmap_art_idx=-1 
						townmap_label_art_idx=-1 
						entrance_0=On,130,410,New Reno Stables,-1,-1,0
					</pre>
				</code>
		<p>Change the area number to the next in the sequence.</p>
		<p>So you would get...</p>
				<code>
					<pre>
						[Area 49] 
						area_name=Testmap number6 
						world_pos=xxx,xxx
						start_state=On 
						lock_state=on
						size=Small 
						townmap_art_idx=-1 
						townmap_label_art_idx=-1 
						entrance_0=On,130,410,Testmap Entrance 0,-1,-1,0 
					</pre>
				</code>
				<code>
					<pre>
						'area name=' This is the name of your town , city or area. It's equal to 'lookup_name=' in MAPS.TXT.
						'world_pos=' Set the x- and y-coordinates of where you want the town to show up on the worldmap (make sure you don't overlap any existing towns).
						'start_state=' Set to 'on' so it shows on the worldmap or 'off' so it doesn't show on the worldmap until you change that with a script.
						'lock_state='
						'size=' Set to whatever circle size you want. There are 'Small; Medium and Large'.
						'townmap_art_idx=' Should be left as '-1' (it references an external .txt file to look up the name of the townmap artwork).
						'townmap_lable_art_idx=' Should be left as '-1' (it references an external .txt file to look up the name of the townmap artwork).
					</pre>
				</code>
				<code>
					<pre>
						'entrance_0=' The first entrance point to your town visible on the townmap graphic (green triangle).
						
						'On' States that this entrance is "enabled". It can be picked from the townmap graphic you get when entering a town from worldmap.
						'130,410' The location of the triangle on the townmap graphic (x- & y- coordinates). 
						'Testmap Entrance 0' Name of the entrance visible on the townmap graphic.
						'-1,-1,0' The destination elevation, hex, and rotation to place the player on when entering the map (-1 for the map defaults).

						'entrance_x=' You can add extra entrances in each area for as many maps as make up the town, just add them after 'entrance_0=' and sequentially number them. 
					</pre>
				</code>
		<p>Save the file.</p>
	<br>
	<h5>MAP.MSG</h5>
		<p>To make the name of your area under the circle on the worldmap show correctly you need to modify MAP.MSG.</p>
		<p>Open the file MAP.MSG found in...</p> 
				<code>
					<pre>
						\fallout2\data\text\english\game
					</pre>
				</code> 
		<p>and scroll to the end.</p>
	<br>
		<p>Copy / paste the last line.</p>
				<code>
					<pre>
						[...]
						{1546}{}{Fake Vault 13} 
						{1547}{}{Random Encounter} 
						{1548}{}{Stables} 
					</pre>
				</code>
		<br>
		<p>Renumber the line you just pasted to the next number and change the name to your townmap name.</p>
		<p>So you would get...</p>
				<code>
					<pre>
						[...]
						{1546}{}{Fake Vault 13} 
						{1547}{}{Random Encounter} 
						{1548}{}{Stables}  
						{1549}{}{My Cool Map} 
					</pre>
				</code>
		<br>
		<p>Find the last entry before the 1500's and start copy / paste below itself.</p>
				<code>
					<pre>
						150. RndBess
						{650}{}{Desert} 
						{651}{}{Desert} 
						{652}{}{Desert} 
					</pre>
				</code>
		<br>
		<p>Renumber the entry you just pasted to the next number/s (as shown below, easy to figure out) and change the name to your map name.</p>
		<p>So you would get...</p>
				<code>
					<pre>
						151. yourmap
						{653}{}{Desert} 
						{654}{}{Desert} 
						{655}{}{Desert} 
					</pre>
				</code>
		<p>A little explanation.</p>
				<code>
					<pre>
						151. yourmap 	 - The name of the map file.
						{653}{}{Desert}  - Name to display for elevation 0 of your map (mapper level 1).
						{654}{}{Desert}  - Name to display for elevation 1 of your map (mapper level 2).
						{655}{}{Desert}  - Name to display for elevation 2 of your map (mapper level 3).
					</pre>
				</code>
		
		<p>So you might have a map of a church with a second floor and a basement so 654 would be "first floor", 655 would be "basement" and 653 the "second floor". It doesn't matter how you do this.</p>
		<p>Save the file.</p>
	<br>
	<hr>

	<div id="New_Critter"><h3>Make new prototype</h3></div>
	<br>
		<h4>Critters</h4>
			<p>Rename patch000.dat inside \Fallout2 so it cannot overwrite \data. If you cannot find patch000.dat the better.</p>
			<p>Create these directories \dev\proto\critters inside \Fallout2.</p>
			<p>Should look like this.</p>
				<code>
					<pre>
						E:\Fallout2\dev\proto\critters
					</pre>
				</code>
			<br>
			<p>Open mapper2.cfg inside \BIS mapper and change this</p>
				<code>
					<pre>
						librarian=0
					</pre>
				</code>
			<p>to</p>
				<code>
					<pre>
						librarian=1
					</pre>
				</code>
			<br>
			<p>Run mapper2.exe.</p>
			<p>Choose 'Critters' from the dropdownmenu.</p>
			<img src="images\Make_new_prototype\Critters\2022-05-24 21_16_32-FALLOUT Mapper.png" alt="">
			<br>
			<br>
			<p>Hit 'END' on your keyboard.</p>
			<img src="images\Make_new_prototype\Critters\2022-05-24 21_28_51-FALLOUT Mapper.png" alt="">
			<br>
			<br>
			<p>You've arrived at the right most of the Critters selection bar. You can tell this by the empty slot where a Critter FRM should be.</p>
			<img src="images\Make_new_prototype\Critters\2022-05-24 21_29_31-FALLOUT Mapper.png" alt="">
			<br>
			<br>
			<p>Choose the empty slot. You've chosen it when the empty slot has a red border.</p>
			<img src="images\Make_new_prototype\Critters\2022-05-24 21_29_55-FALLOUT Mapper.png" alt="">
			<br>
			<br>
			<p>Hit 'edit'.</p>
			<img src="images\Make_new_prototype\Critters\2022-05-24 21_30_14-E__Fallout2_data_data_CITY.TXT - Notepad++.png" alt="">
			<br>
			<br>
			<p>This window should appear. You can choose a ton of options for your new Critter.</p>
			<img src="images\Make_new_prototype\Critters\2022-05-24 21_30_40-FALLOUT Mapper.png" alt="">
			<br>
			<br>
			<p>But don't touch anything for now. Just hit 'DONE'.</p>
			<img src="images\Make_new_prototype\Critters\2022-05-24 21_30_54-FALLOUT Mapper.png" alt="">
			<br>
			<br>
			<p>The window should close and you can now see a flaming mannequin on the place where the empty slot was.</p>
			<img src="images\Make_new_prototype\Critters\2022-05-24 21_31_19-BIS mapper.png" alt="">
			<br>
			<br>
			<p>A bunch of new files have been created.</p>
			<p>A .txt file here. Called e.g. 00000484.txt.</p>
				<code>
					<pre>
						E:\Fallout2\dev\proto\critters
					</pre>
				</code>
			<br>
			<p>And a new .pro file here. Called e.g. 00000484.pro.</p>
				<code>
					<pre>
						E:\Fallout2\data\proto\critters
					</pre>
				</code>
			<br>
			<p>You should also have critters.lst inside this directory. Open critters.lst. Scroll to the very bottom of the file and you should see this.</p>
				<code>
					<pre>
						[...]
						00000479.pro
						00000480.pro
						00000481.pro
						00000482.pro
						00000483.pro
						00000484.pro
					</pre>
				</code>
			<p>Your new proto 00000484.pro has been added to the list.</p>
			<br>
			<p>If you want to delete your new proto, just delete both newly created files and the entry inside critters.lst and the flaming mannequin should have been disappeared inside the mapper.</p>
<br>
<hr>
<hr>

<div id="basic"><h2>Scripting (Basics)</h2></div>
<br>

	<div id="ssl"><h3>SSL - Star Trek scripting language</h3></div>
		<p>No, you have not misread, the scripting language used to script Fallout 2 is called Star Trek scripting language or in short SSL. 
				SSL is a mix of pascal or lua with C. Only the devs know what this abomination is.
				Black Isle Studios created SSL for their Star Trek game that never came true. When they made Fallout 1 and 2 they simply used SSL to script them.
				Some refer to it as Fallout scripting language, some as Star Trek scripting language and some just call it SSL but all mean the same.
				If you want to know more you can ask the community, they should know more about it.</p>
	<br>
	<br>
	<hr>

	<div id="script"><h3>Script</h3></div>
		<p>A script is just a file that contains the source code of the Fallout scripting language. Any object in the game can have a script. Scripts are needed to assign a certain behavior to an object (critter, scenery, items etc.), 
			so that it can be interacted with. They breathe life into the game world and its inhabitants.Not only the player can interact with scripts,but even scripts can interact with eachother. 
			You could also build a map and place critters, scenery and stuff without assigning scripts to them.You could nevertheless interact with them but not that much.What does it mean "not that much"?
			Well, the game uses default scripts if you don't assign any like combat, push, look, description etc.</p>
		<p>Lets see how a script can look like. The following is the script for the well found in Arroyo village.</p>   
		<code>
			<pre>
						<span class="dyeheader">/* Include Files */</span>
						<span class="dyedefine">#include</span> <span class="dyeheader">"..\headers\define.h"</span>
						<span class="dyedefine">#include</span> <span class="dyeheader">"..\headers\arvillag.h"</span>
						<span class="dyedefine">#include</span> <span class="dyeheader">"..\headers\command.h"</span>
						
						<span class="dyedefine">#define</span> NAME                    SCRIPT_ASWELL
						
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">start</span>;
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">use_skill_on_p_proc</span>;
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">description_p_proc</span>;
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">look_at_p_proc</span>;
						
						<span class="dyedefine">#define</span> LVAR_Gave_Xp            (<span class="dyedefine">0</span>)
						
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">start</span> <span class="dyestatement">begin</span>
						<span class="dyestatement">end</span>
						
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">description_p_proc</span> <span class="dyestatement">begin</span>
							<span class="dyefunction">script_overrides</span>;                                     
							<span class="dyestatement">if</span> (<span class="dyefunction">map_var</span>(MVAR_Fixed_Well) <span class="dyeoperator">==</span> <span class="dyedefine">0</span>) <span class="dyestatement">then</span> <span class="dyestatement">begin</span>         
								<span class="dyefunction">display_msg</span>(<span class="dyestandardmacro">mstr</span>(<span class="dyedefine">100</span>));                           
							<span class="dyestatement">end</span>
							<span class="dyestatement">else</span> <span class="dyestatement">begin</span> 
								<span class="dyefunction">display_msg</span>(<span class="dyestandardmacro">mstr</span>(<span class="dyedefine">101</span>));                           
							<span class="dyestatement">end</span>
						<span class="dyestatement">end</span>
						
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">look_at_p_proc</span> <span class="dyestatement">begin</span> 
							<span class="dyefunction">script_overrides</span>;
							<span class="dyestatement">if</span> (<span class="dyefunction">map_var</span>(MVAR_Fixed_Well) <span class="dyeoperator">==</span> <span class="dyedefine">0</span>) <span class="dyestatement">then</span> <span class="dyestatement">begin</span> 
								<span class="dyefunction">display_msg</span>(<span class="dyestandardmacro">mstr</span>(<span class="dyedefine">100</span>));
							<span class="dyestatement">end</span>
							<span class="dyestatement">else</span> <span class="dyestatement">begin</span> 
								<span class="dyefunction">display_msg</span>(<span class="dyestandardmacro">mstr</span>(<span class="dyedefine">101</span>));
							<span class="dyestatement">end</span>
						<span class="dyestatement">end</span>
						
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">use_skill_on_p_proc</span> <span class="dyestatement">begin</span> 
							<span class="dyestatement">if</span> ((<span class="dyefunction">action_being_used</span> <span class="dyeoperator">==</span> <span class="dyehardcoded">SKILL_REPAIR</span>) <span class="dyestatement">and</span> (<span class="dyefunction">local_var</span>(LVAR_Gave_Xp) == <span class="dyedefine">0</span>)) <span class="dyestatement">then</span> <span class="dyestatement">begin</span>        
								<span class="dyefunction">script_overrides</span>;
								<span class="dyefunction">display_msg</span>(<span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">1005</span>));                                           
								<span class="dyedevelopermacro">give_xp</span>(EXP_FIX_WELL);                                                                   
								<span class="dyefunction">set_map_var</span>(MVAR_Fixed_Well,<span class="dyedefine">1</span>);                                                          
								<span class="dyefunction">set_local_var</span>(LVAR_Gave_Xp,<span class="dyedefine">1</span>);                                                           
							<span class="dyestatement">end</span>
						<span class="dyestatement">end</span>
					</pre>
				</code>
			<p>At first glance it can look overwhelming even intimidating. But fear not! We will go through this step by step. First of all we will look at the structure. We'll go more indepth later.</p>
	<br>
	<br>
	<hr>

	<div id="header"><h3>Header File</h3></div>
		<p>Header files are files that store information that is used repeatedly in every script. 
			So, you dont have to rewrite the same code over and over again in every script. 
			Once written inside a header File and just included at the top of a script where you want to use the code and youre good to go.</p>
				<code>
					<pre>
						<span class="dyedefine">#include</span> <span class="dyeheader">"..\headers\define.h"</span>
						<span class="dyedefine">#include</span> <span class="dyeheader">"..\headers\arvillag.h"</span>
						<span class="dyedefine">#include</span> <span class="dyeheader">"..\headers\command.h"</span>
					</pre>
				</code>
		<p>As you can see the suffix of header files is .h.</p>
		<p>They are located inside the folder "\HEADERS".</p>
	<br>
	<br>
	<hr>

	<div id="define"><h3>Define</h3></div>
		<p>With #define it is possible to specify strings that will be exchanged for another string before the program is translated. 
			Again, the # character causes the preprocessor to do its work first before the nascent program is translated by the compiler into machine language.</p>
		<p>We have two #defines in this example.</p> 
				<code>
					<pre>
						<span class="dyedefine">#define</span> NAME &emsp; &emsp; SCRIPT_ASWELL
					</pre>
				</code>
		<p>and</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> LVAR_Gave_Xp            (<span class="dyedefine">0</span>)
					</pre>
				</code>
		<p>In the #define below NAME is SCRIPT_ASWELL. This means if you want to refer to SCRIPT_ASWELL inside your script you simply can write NAME.</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> NAME &emsp; &emsp; SCRIPT_ASWELL
					</pre>
				</code>
		<p>If you hover over SCRIPT_ASWELL with your cursor you'll see the description inside the bluegreyish box.</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> NAME &emsp; &emsp; SCRIPT_ASWELL
						<div class="codepopup" >
							<div class="codepre">
								Define: SCRIPT_ASWELL
								(217) //ASWell.int  :Arroyo Well. It's broken. Fix w/ Repair.
								
								Declare file: scripts.h
							</div>
						</div>
					</pre>
				</code>
		<p>The file SCRIPTS.H is located inside HEADERS\SCRIPTS.H. We'll talk about this later.</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> SCRIPT_ASWELL &emsp; &emsp; (<span class="dyedefine">217</span>) &emsp; <span class="dyecomment">// ASwell.int</span> &emsp; &emsp; <span class="dyecomment">; Arroyo Well. It's broken. Fix w/ Repair.</span>
					</pre>
				</code>
	<br>
	<br>
	<hr>

	<div id="procedure"><h3>Procedure</h3></div>
		<p>Procedures are just like small programs inside your script. They are an essential part of the program and help programmers to keep the script clear, organized, structured and avoid repetitions since they promote code re-use. 
			A procedure in Fallout scripting language starts with <span class="dyestatement">procedure </span> a name (<span class="dyeprocedure">start</span> in this case) <span class="dyestatement">begin</span>  
			and ends with an <span class="dyestatement">end</span> statement.</p>
		<p>We have four procedures in this example. start; use_skill_on_p_proc; description_p_proc and look_at_p_proc. There are more but this scripts just uses these four. They are predefinied by the devs but you can also write your own procecures.</p>
			Every procedure you use inside your script needs to be declared at the top of the script like seen below.
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">start</span>;
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">use_skill_on_p_proc</span>;
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">description_p_proc</span>;
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">look_at_p_proc</span>;
					</pre>
				</code>  
		<p>The space between <span class="dyestatement">begin</span> and <span class="dyestatement">end</span> is called procedure body. Inside the body you write the stuff you want to be executed.
			In the example below the body is empty. An empty procedure body cannot execute anything because there is nothing to execute. 
			If you call an empty procedure, the procedure starts, sees there's nothing inside the body and ends immediately.</p>
		<p>The most important procedure of them all is the procedure called "start". The start procedure is the entry point of scripts.
			Every script has it and every script needs it. If you don't have the start procedure inside you script, it won't work.</p>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">start</span> <span class="dyestatement">begin</span>
						<span class="dyestatement">end</span>
					</pre>
				</code>
		<p>The other three procedures inside the example script are these.</p>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">description_p_proc</span> <span class="dyestatement">begin</span>
						[...]
						<span class="dyestatement">end</span>
					</pre>
				</code>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">look_at_p_proc</span> <span class="dyestatement">begin</span> 
						[...]
						<span class="dyestatement">end</span>
					</pre>
				</code>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">use_skill_on_p_proc</span> <span class="dyestatement">begin</span> 
						[...]
						<span class="dyestatement">end</span>
					</pre>
				</code>
				<p> You can call procedures from every corner of your script like this.</p>
				<code>
					<pre>
						<span class="dyestatement">call</span> <span class="dyeprocedure">use_skill_on_p_proc</span>;
					</pre>
				</code>
		<p>You can also export/import procedures.</p>
	<br>
	<br>
	<hr>

	<div id="function"><h3>Function</h3></div>
		<p>Simple hardcoded commands of SSL are called functions. The stuff you write inside the procedure body. That means they are basis commands, and cannot be broken down further.</p>
		<p>A simple function can look like this:</p>
				<code>
					<pre>
						<span class="dyefunction">display_msg</span>
					</pre>
				</code>
		<p>You can also write something more complex like this:</p>
				<code>
					<pre>
						<span class="dyefunction">display_msg</span>(<span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">1005</span>));
					</pre>
				</code>
		<p>As you can see there is a function inside a function and some other stuff. That's also possible.</p>
	<br>
	<br>
	<hr>

	<div id="argument"><h3>Argument</h3></div>
		<p>The stuff inside the parenthesis is called argument.</p>
				<code>
					<pre>
						<span class="dyefunction">display_msg</span>(<span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">1005</span>));
					</pre>
				</code>
		<p>An argument is also passed here.</p>
				<code>
					<pre>
						<span class="dyedevelopermacro">give_xp</span>(EXP_FIX_WELL); 
					</pre>
				</code>
		<p>Many functions need to pass a value of some kind. Just hover over the function to know how many arguments and of what kind wants to be passed.</p>
	<br>
	<br>
	<hr>

	<div id="variable"><h3>Variable</h3></div>
		<p>A variable is like a temporary container. You can save things into it. For example strings, integers, booleans and the result of functions etc.</p>
		<p>There are several types of variables. The ones which get into global namespace and the ones that don't. The global namespace is the place where variables are shared between scripts.
		<p>	The engine does not see names for variables. It refers to variables by numbers. You can perfectly have...</p>
				<code>
					<pre>
						#define GVAR_1 120
						#define GVAR_2 120
					</pre>
				</code>
		<p>And use either in your scripts, it will work. As you can see the name number combination of variables must be unique otherwise the engine gets confused and throws errors.</p>
			This also means variables that are inside the global namespace are saved and remembered on map change or game load.</p> 
			The other variables that are not inside the global namespace just run while the script they are defined in is running. They will be forgotten on map change or game load. </p>
		<p>The image below is intended to illustrate the global namespace. The green circles are scripts with variables. The blue circle is the global namespace. 
			The scripts that are partially in the blue circle have local variables that are not in the global namespace. 
			The scripts which are fully in the blue circle have global variables which are in the global namespace and therefore must be unique. 
			As you can see, the global variable MVAR_1 exists twice, which must not occur in the global namespace.</p>
		<img src="images\Scripting (Basics)\Global_namespace_image.jpg" alt="Please stand by">
	<br>
	<br>
		<p>Let's take a look at the different types of variables.</p>
	<br>
	<br>

	<h4>Variables of global namespace</h4>
		<p>Variables getting into global namespace are:</p>
				<code>
					<pre>
						LVAR_; 
						MVAR_; 
						GVAR_;
						export variable;
						import variable;
					</pre>
				</code>   
		<br>
				<code>
					<pre>
						<span class="dyedefine">#define</span> LVAR_Gave_Xp; &emsp; &emsp; (<span class="dyedefine">0</span>)
					</pre>
				</code>
		<p>This variable is of type Local variable (LVAR). It is saved during map change and game load. LVARs are used for circumstances that aren't that significant e.g. "have experience points been given to the player?"
			LVARs are defined and stored in the header of the script in which they are to be used. All LVARs will be prepended with LVAR_.</p>
		<br>
				<code>
					<pre>
						<span class="dyedefine">#define</span> MVAR_Fixed_Well; &emsp; &emsp; (<span class="dyedefine">4</span>)
					</pre>
				</code>
		<p>This variable is of type Map variable (MVAR). It is saved during map change and game load. MVARs are stored in the corresponding map script. 
			In this case MVAR_Fixed_Well is stored inside ARVILLAG.H. 
		<p> With the include command the MVAR can be used in the script.</p>
				<code>
					<pre>
						#include "..\headers\arvillag.h"
					</pre>
				</code> 
		<p>	Map variables need to be added to a file called MapName.GAM, e.g. ARVILLAG.GAM, which must be put in the data\maps directory.
			MVARs are used for circumstances that are significant for a specific map like "has the well been fixed?"
			All MVARs will be prepended with MVAR_.</p>
		<br>
		<p>This variable is of type Global variable. It can be used in any script. To use this type of variable, only the file GLOBAL.H must be included into the script. 
			It is saved during the map change. Any global variables you #define and use must also be put into a file called VAULT13.GAM which is found inside the data\data directory. 
			GVARs will be stored in a header file called Global.H, located in the \Fallout2\Scripts\Headers\ directory. 
			All GVARs will be prepended with GVAR_.</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> GVAR_DUMAR_STATUS; &emsp; &emsp; (<span class="dyedefine">369</span>)
					</pre>
				</code>
		<p>The number inside the parenthesis of all three global namespace variables is no value. It serves as a placeholder for the engine. As soon as the script is executed, 
			the engine replaces the names of the global namespace variables with the number assigned to it.</p>
		<br>
		<p>This variable is defined inside script ARCAVES.SSL. The keyword export ensures that the variable can be used in other scripts. 
			The variable contains the last value that was assigned to it.</p>
				<code>
					<pre>
						<span class="dyestatement">export variable</span> temple_chest_prt;
					</pre>
				</code>
		<br>
		<p>The previously exported variable can now be used with the keyword import inside the scripts AITEMCST.SSL and ACTEMVIL.SSL. 
			The variable contains the value that was last assigned to it.</p>
				<code>
					<pre>
						<span class="dyestatement">import variable</span> temple_chest_prt;
					</pre>
				</code>
		<p>These global namespace variable types must always be defined at the top of the script like in the sample script.</p>
	<br>

	<h4>Variables not of global namespace</h4>
		<p>Variables not getting into global namespace are:</p>
				<code>
					<pre>
						Local variables e.g.
						<span class="dyestatement">variable</span> Only_Once <span class="dyeoperator">:=</span> <span class="dyedefine">0</span>;
					</pre>
				</code>
		<br>
		<p> The variable Only_Once is defined outside the procedure and assigned the value <span class="dyedefine">0</span>. 
			This variable can be used in every procedure inside the script. This variable will not be saved when changing the map.</p>
				<code>
					<pre>
						<span class="dyestatement">variable</span> Only_Once <span class="dyeoperator">:=</span> <span class="dyedefine">0</span>;

						<span class="dyestatement">procedure</span> <span class="dyeprocedure">map_enter_p_proc</span> <span class="dyestatement">begin</span>
							Only_Once <span class="dyeoperator">:=</span> <span class="dyedefine">0</span>;
					</pre>
				</code>
		<br>
		<p>The variable item is defined inside the procedure <span class="dyeprocedure">combat_p_proc</span>.
			This variable can only be used inside the procedure. This variable will not be saved when changing the map.</p>
				<code>
					<pre>
						<span class="dyestatement">procedure</span><span class="dyeprocedure"> combat_p_proc</span> <span class="dyestatement">begin</span>
							<span class="dyestatement">variable</span> item;

								item <span class="dyeoperator">:=</span> <span class="dyestandardmacro">create_object</span>(PID_HEALING_POWDER),<span class="dyedefine">0</span>,<span class="dyedefine">0</span>);
								<span class="dyefunction">use_obj_on_obj</span>(item,<span class="dyefunction">self_obj</span>);
					</pre>
				</code>
	<br>
	<br>
	<hr>

	<div id="constant"><h3>Constant</h3></div>
		<p>Constants are variables with fixed unchangeable value (You can change them but you don't want to, thats the reason using constants :P). A good example is give_xp(EXP_FIX_WELL) because EXP_FIX_WELL is a constant which is defined in ExpPoint.H. 
			If you use EXP_FIX_WELL in several scripts and you want to change the given experience from 100 to 200 you just need to change the value in on place, in ExpPoint.H.</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> EXP_FIX_WELL; &emsp; &emsp; (<span class="dyedefine">100</span>)
					</pre>
				</code>
	<br>
	<br>
	<hr>

	<div id="macro"><h3>Macro</h3></div>
		<p>A macro is a fragment of code which has been given a name. Whenever the name is used, it is replaced by the contents of the macro. Functions can easily get huge and messy. Macros are shorter and therefore better to read.</p>
		<p>Let's look at an example.</p>
				<code>
					<pre>
						<span class="dyedevelopermacro">give_xp</span>(EXP_FIX_WELL); 
					</pre>
				</code>
		<p>The macro give_xp(x) is located inside the file EXPPOINT.H.</p>
		<p>Behind give_xp(x) actually hides:</p>  
				<code>
					<pre>
						<span class="dyefunction">give_exp_points</span>(x);
						<span class="dyefunction">display_msg</span>(<span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">100</span>)<span class="dyeoperator">+</span>x<span class="dyeoperator">+</span><span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">101</span>))
					</pre>
				</code>
	<br>
	<br>
	<hr>

	<div id="operator"><h3>Operator</h3></div>
		<p>An operator is a symbol that tells the compiler to perform specific mathematical, relational or logical operation and produce final result. </p>
		<br>
			<p><span class="dyeoperator">:=</span> (assign value - Assigns the value on the right side to the value on the left side.)</p>
			<p><span class="dyeoperator">></span> (greater than - Checks if the value on the left side is greater then the value on the right side.)</p>
			<p><span class="dyeoperator"><</span> (lesser than - Checks if the value on the left side is lesser then the value on the right side.)</p>
			<p><span class="dyeoperator">>=</span> (greater than or equal to - Checks if the value on the left side is greater then or equal to the value on the right side.)</p>
			<p><span class="dyeoperator"><=</span> (lesser than or equal to - Checks if the value on the left side is lesser then or equal to the value on the right side.)</p>
			<p><span class="dyeoperator">==</span> (equals - Checks if the value on the left side is exactly the same as the value on the right side.)</p>
			<p><span class="dyeoperator">!=</span> (does not equal - Checks if the value on the left side is not exactly the same as the value on the right side.)</p>
	<br>
	<br>
	<hr>

	<div id="statement"><h3>Statement</h3></div>
		<p>Statements are used to build and subdivide blocks of logic.</p>
		<p>For example:</p>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">look_at_p_proc</span> <span class="dyestatement">begin</span> 
							<span class="dyefunction">script_overrides</span>;
							<span class="dyestatement">if</span> (<span class="dyefunction">map_var</span>(MVAR_Fixed_Well) <span class="dyeoperator">==</span> <span class="dyedefine">0</span>) <span class="dyestatement">then</span> <span class="dyestatement">begin</span>
								<span class="dyefunction">display_msg</span>(<span class="dyestandardmacro">mstr</span>(<span class="dyedefine">100</span>));
							<span class="dyestatement">end</span>
							<span class="dyestatement">else</span> <span class="dyestatement">begin</span> 
								<span class="dyefunction">display_msg</span>(<span class="dyestandardmacro">mstr</span>(<span class="dyedefine">101</span>));
							<span class="dyestatement">end</span>
						<span class="dyestatement">end</span>
					</pre>
				</code>
		<p>The above example simply says:</p>
		<img src="images\Scripting (Basics)\2022-05-30 14_28_19-statement_explained.png" alt="">
		<p>There is no need to write the related statements on the same column but it helps alot.</p>
	<br>
	<br>
	<hr>

	<div id="semicolon"><h3>Semicolon</h3></div>
		<p>The semicolon symbol ; is used to tell the compiler where a function ends.</p>
	<br>
	<hr>

<div id="advanced"><h2>Scripting (Advanced)</h2></div>
<br>

	<div id="compiling"><h3>Compiling</h3></div>
		<p>As you have probably already noticed, the suffix of your script or any script in general is .ssl. For example ASWELL.ssl. 
			However, this suffix is the raw state of a script. To be able to use your script inside the game you need to compile it. What does that mean? 
			It means the script needs to be translated from human readable code into machine readable code.
			Decompiled (human readable) scripts have the suffix .ssl, compiled ones (machine readable) have the suffix .int.
			So the engine knows what to do with the scripts content.</p>
		<br>
		<p>But how exactly do we compile scripts? With Sfall script editor this is child's play.</p>
		<p>Just look at the top center of the Sfall script editor. There you'll find this button.</p>
		<br>
		<img src="images\Compiling\compile_button.png" alt="">
		<p>Press it. Come on, do it! Press it! Or F8...</p>
		<img src="images\Compiling\Compiling_failed_bottom.png" alt="">
		<br>
		<img src="images\Compiling\Compiling_failed_top.png" alt="">
		<p>( `) oh noez! What happened? It didn't compile... You get some unique and some cryptic error messages. But all in all it didn't compile. But how do we get our script correctly compiled?
			I'm glad you ask. Maybe you noticed some little detail inside ASWELL.SSL.</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> NAME                    SCRIPT_ASWELL
					</pre>
				</code>
	<br>
	
	<div id="Scripts.h"><h4>SCRIPTS.H</h4></div>
		<p>In order to compile your script correctly, it must be listed inside SCRIPTS.H. Let's take a look at SCRIPTS.H located here:</p>
				<code>
					<pre>
						E:\Fallout2\data\scripts\decompiled\HEADERS
					</pre>
				</code>
				<code>
					<pre>
						/*
							Copyright 1998-2003 Interplay Entertainment Corp.  All rights reserved.
						*/

						#ifndef SCRIPTS_H
						#define SCRIPTS_H

						/******************************************************************
						File Name: Scripts.h

						Purpose: This file contains defines for all of the scripts in
									scripts.lst. This is an ordered list and needs to
									conform exactly to scripts list. All defines in here
									need to be prepended with SCRIPT_ as a naming
									convention.

						Created: October 06, 1997
						******************************************************************/

						#define SCRIPT_OBJ_DUDE         (1)     // obj_dude.int    ; Player script.
						#define SCRIPT_TEST0            (2)     // Test0.int       ; Used to Test Scripts
						#define SCRIPT_TEST1            (3)     // Test1.int       ; Used to Test Scripts
						#define SCRIPT_TEST2            (4)     // Test2.int       ; Used to Test Scripts
						#define SCRIPT_TEST3            (5)     // Test3.int       ; Used to Test Scripts
						#define SCRIPT_TEST4            (6)     // Test4.int       ; Used to Test Scripts
						#define SCRIPT_TEST5            (7)     // Test5.int       ; Used to Test Scripts
						#define SCRIPT_ACWARIOR         (8)     // ACWarior.int    ; Generic Warrior in Arroyo
						#define SCRIPT_ACVILLGR         (9)     // ACVillgr.int    ; Generic Villager of Arroyo
						[...]
					</pre>
				</code>
		<p>What the heck is this?! You might ask. This is SCRIPTS.H or a itsy bitsy tiny part of it (I shorted it because of reasons ;-)). Ok, let's take a look at the framework of this file.</p>
		<p>#define SCRIPT_... looks familiar. So there needs to be something like #define SCRIPT_ASWELL inside SCRIPTS.H. Let's seek for it.</p>
				<code>
					<pre>
						//#define SCRIPT_ASWELL           (217)   // ASWell.int      ; Arroyo Well. It's broken. Fix w/ Repair
					</pre>
				</code>
		<p>There it is! Line 236! It didn't work because someone put double slash before it to make it a comment... (</p>
		<p>Just remove the double slash. It'd now look like this.</p>
				<code>
					<pre>
						#define SCRIPT_ASWELL           (217)   // ASWell.int      ; Arroyo Well. It's broken. Fix w/ Repair
					</pre>
				</code>
		<p>Okay. Now you should more or less understand #define SCRIPT_ASWELL. But what's up with (217)? It serves the purpose of a placeholder or some kind of link. So, to make things short SCRIPT_ASWELL = 217.
			Humans use SCRIPT_ASWELL because it's easier to read and engines work with numbers so 217 is easier for the engine to understand. Every script has its unique number. Every number is assigned once.
			Explore SCRIPTS.H to understand this procedure better.</p>
		<p>Now give it another try. Save the file SCRIPTS.H. Push the compile button.</p>
		<img src="images\Compiling\compiling_success.png" alt="">
		<p>Yes! You did it!</p>
		<img src="images\Compiling\ssl_and_int.png" alt="">
		<p>You compiled a .ssl script into a .int one. The compiled script will be created at the same place your decompiled script lies. You can be proud of yourself.</p>
	<br>
		<h5>Notice</h5>
			<p>* You can choose whatever name your script has. It doesn't matter if it's called ASWELL.ssl, WELL.ssl or MYSCRIPT.ssl. 
				But remember, and this is important, a scripts name mustn't be longer than 8 characters, the suffix .ssl not counted.
				It mustn't be exactly 8 characters long either. Just pick a name between min. 1 and max. 8 chars long.
				If you don't follow this rule you'll burn in hell for all eternity!!! And your sleeves slip down every time washing your hands!!!
				The truth is the engine can't handle more than 8 chars and will probably crash. \_()_/</p>
			<p>* Script names and the suffix aren't case sensitive. It doesn't matter if you write ASWELL.SSL, ASWELL.int, aswell.SSL, aswell.INT, aSwElL.sSl... you're getting the point.</p>
	<br>
	<hr>

	<div id="TestScript"><h3>Test your script</h3></div>
	<br>

		<div id="Scripts.lst"></div><h4>SCRIPTS.LST</h4>
			<p>Now that you've got a compiled script you certainly want to test it. One way to test it is within the BIS Mapper. But first we have to add the script into SCRIPTS.LST.
				We need to do this so that the mapper is able to find the script. Locate the file and open it with whatever editor you like. Jump at the end of the file and add your script like this:</p>
				<code>
					<pre>
						HCPAVEL.int		;Pavel the former scout of Hock.				# local_vars=3
					</pre>
				</code>
			<p>HCPAVEL.int is the name of your compiled script how you of course already noticed. The text after the semicolon is a descriptive text. 
				The text after the hashtag is the amount of LVARs used inside your script. In this example you see that script HCPAVEL.int uses 3 LVARs. 
				If you use 0 LVARs then you write # local_vars=0. If you use 5 but write # local_vars=7 nobody will tear your head off the script will work anyways.
				The important thing is that you add your script at the same line number as the entry inside SCRIPTS.H corresponds.
				E.g. inside SCRIPTS.H SCRIPT_HCPAVEL has number (1304) so your entry inside SCRIPTS.LST needs to be on line number 1304.</p>
		<br>
		<div id="F8Mode"></div><h4>F8 mode</h4>
			<p>Open the BIS mapper and just press F8. You'll entering some sort of Fallout2 "light". 
				You can exit it by pressing F8 again then you'll return to the mapper editing interface.</p>
		<br>
		<div id="GameMode"></div><h4>Game mode</h4>
			<p>Navigate to the Fallout2 game folder located here...</p>
				<code>
					<pre>
						E:\Fallout2\
					</pre>
				</code>
			<p>Open file ddraw.ini and navigate to line 167 called 'StartingMap='. It could be commented out with a semicolon (;) but just uncomment it by deleting the semicolon.</p>
			<p>Write your map name after the equals symbol (=). E.g. #StartingMap=ABCDEFG.map'.</p>
			<p>Save the file and hit fallout2.exe. Start a new game with any character and you'll notice that you'll start on your map.</p>
		<br>
			<h5>Notice</h5>
				<p>When you face the strange behavior inside the BIS mapper that you can choose all your self written scripts but the last entry overwrites your presious scripts inside the list.
					Then your facing a bug. I got rid of this bug by shuffling around a few of the vanilla scripts already located inside SCRIPTS.LST 
					and putting some of my self written scripts between the vanilla scripts but not behind each other.</p>
		<br>
		<hr>	
		<div id="AssignScript"><h4>Assign script to object</h4></div>
			<p>Open the mapper and load your map of choice. There should be at least one object on the map.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScript.png" alt="" height="80%" width="80%">
			<p>Choose 'Critters' in dropdown menu, otherwise you cannot mark Critters.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptCritters.png" alt="">
			<p>Press 'm' to change the cursor from hex to pointer. Left-click the Critter.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptCrittersChoose.png" alt="" height="60%" width="40%">
			<p>Press 'Edit' on the bottom button panel.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptCrittersEdit.png" alt="" height="60%" width="40%">
			<p>Choose 'New Script'.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptCrittersNewScript.png" alt="" height="50%" width="50%">
			<p>A window with all available .int scripts appears.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptCrittersChooseScript.png" alt="" height="50%" width="50%">
			<p>Navigate to the script you want to assign to the object.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptCrittersChooseScriptHCPAVEL.png" alt="" height="50%" width="50%">
			<p>After you chose the script the window closes and gets back to the edit window.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptCrittersChooseScriptHCPAVELChosen.png" alt="" height="50%" width="50%">
			<p>When you're satisfied click on 'Done'.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptCrittersEditDone.png" alt="" height="50%" width="50%">
			<p>To see if it has really been assigned just go to 'SCRIPTS' and choose 'List all Scripts'.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptListAllScripts.png" alt="">
			<p>As you can see, our chosen script has successfully been assigned.</p>
			<img src="images\Scripting (Advanced)\AssignScript\AssignScriptListAllScriptsSeeScripts.png" alt="" height="80%" width="80%">
			<p>Press 'F8' to test if your script works.</p>
		<br>
			<h5>Notice</h5>
				<p>* If you see your script inside the mapper and attach it to a critter but you cannot interact with the critter how you've supposed it with your script then the error could be following:</p>
				<p>&nbsp; * Your script isn't located inside the same folder as SCRIPTS.LST.</p>        
				<p>&nbsp; * The entry of your script inside SCRIPTS.LST doesn't correspond with the entry inside SCRIPTS.H.</p>        
		<br>
		<hr>
		
	<div id="dialog"><h3>Dialog</h3></div>
	<br>

		<h4>Let's talk about...</h4>
			<p>Do you remember this guy?</p>
			<img src="images\Dialog\Talk_to_Klint_remember.png" alt="">
			<p>It's Klint. Say hi to Klint.</p>
			<img src="images\Dialog\Talk_to_Klint.png" alt="">
			<p>The mouth symbol is the procedure talk_p_proc.</p>
			<img src="images\Dialog\Talk_to_Klint_dialogsystem.png" alt="">
			<p>The conversation has been initiated and the dialog system appears. Now you see two lines of text. But how does the engine know when which text to say?
				Well to understand how it works, we need to dig down deeper and take a look at two files ACKLINT.SSL and ACKLINT.MSG.</p>
			<p>First file is ACKLINT.SSL located here:</p>
				<code>
					<pre>
						E:\Fallout2\data\scripts\decompiled\ARROYO
					</pre>
				</code>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">talk_p_proc</span> <span class="dyestatement">begin</span>
							[...]
							<span class="dyestatement">if</span> ((<span class="dyefunction">obj_art_fid</span>(<span class="dyefunction">dude_obj</span>) <span class="dyeoperator">==</span> FID_HMWARR) <span class="dyestatement">or</span> (<span class="dyefunction">obj_art_fid</span>(<span class="dyefunction">dude_obj</span>) <span class="dyeoperator">==</span> FID_HFPRIM)) <span class="dyestatement">then</span> <span class="dyestatement">begin</span>
								<span class="dyefunction">start_gdialog</span>(NAME,<span class="dyefunction">self_obj</span>,<span class="dyedefine">4</span>,<span class="dyedefine">-1</span>,<span class="dyedefine">-1</span>);
								<span class="dyefunction">gSay_Start</span>;
									<span class="dyestatement">call</span> <span class="dyeprocedure">Node001</span>;
								<span class="dyefunction">gSay_End</span>;
								<span class="dyefunction">end_dialogue</span>;
							<span class="dyestatement">end</span>

							<span class="dyestatement">else</span> <span class="dyestatement">begin</span>
								<span class="dyefunction">start_gdialog</span>(NAME,<span class="dyefunction">self_obj</span>,<span class="dyedefine">4</span>,<span class="dyedefine">-1</span>,<span class="dyedefine">-1</span>);
								<span class="dyefunction">gSay_Start</span>;
									<span class="dyestatement">call</span> <span class="dyeprocedure">Node006</span>;
								<span class="dyefunction">gSay_End</span>;
								<span class="dyefunction">end_dialogue</span>;
							<span class="dyestatement">end</span>
						<span class="dyestatement">end</span>
					</pre>
				</code>
			<p>This is procedure talk_p_proc or at least a part of it. Dialog begins here but we are only interested in call Node006; the rest is unimportant for now.</p>
			<p>Let's jump to call Node006.</p>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">Node006</span> <span class="dyestatement">begin</span>
							<span class="dyestandardmacro">Reply</span>(<span class="dyedefine">121</span>);

							[...]
							<span class="dyestandardmacro">NOption</span>(<span class="dyedefine">123</span>,<span class="dyeprocedure">Node007</span>,<span class="dyedefine">004</span>);
						<span class="dyestatement">end</span>
					</pre>
				</code>
			<p>You can probably guess that 121 and 123 are the two lines we've seen at the screenshots when you started talking to Klint and the dialog window appeared. 
				But where do they come from? Let's take a look at ACKLINT.MSG located here:</p>
				<code>
					<pre>
						E:\Fallout2\data\text\english\dialog
					</pre>
				</code>
			<p>Try and open the file with notepad, notepad++, Sfall script editor or whatever you prefer. After you opened the file, it will look like this:</p>
				<code>
					<pre>
						{100}{}{You see Klint, a fellow tribesman.}
						{101}{}{You see Klint.}
						{102}{}{You see a young man with bulging muscles and a very confident air about him.}
						{103}{}{Good day to you, }
						{104}{}{. You have not completed the trial of the Elder and may not pass.}
						{105}{}{Uh...}
						{106}{}{I need to go back to the village.}
						{107}{}{I have some questions of you.}
						{108}{}{All right, I'm off to take the test.}
						{109}{}{(sigh) }
						{110}{}{. You go temple. You take test. You not come back here until take test. Obey Elder. Go!}
						{111}{}{Me go.}
						{112}{}{Forgive me, }
						{113}{}{, but I can not allow you to pass. If you wish to return to the village you may do so only by passing the trial set before you.}
						{114}{}{I see. I guess I'll be going then.}
						{115}{}{Can I ask you some questions then?}
						{116}{}{I could kick your ass and just walk out of here.}
						{117}{}{Forgive me, but I have no answers to your questions. Take the trial set before you by the Elder and prove yourself worthy to lead our people.}
						{118}{}{Very well.}
						{119}{}{Two people working together can move the obelisk that blocks the path. Alone, you would fail. I have no intention of helping you until you pass the trial of the Elder.}
						{120}{}{Uh-huh. I get the picture.}
						{121}{}{Greetings, Chosen One! It is good to see you. How may I serve you?}
						{122}{}{Me say hi. That all.}
						{123}{}{Just thought I'd say hello. I'll be leaving on my quest soon.}
						{124}{}{May the spirits of our ancestors protect you, Chosen One. I wish you well on your journey.}
					</pre>
				</code>
			<p>Every piece of text related to Klint. As you can see lines 121 and 123 are located inside this message file. So, when dialog jumps to Node006 and lines 121 and 123 are requested, 
				the engine looks inside ACKLINT.MSG finds and returns the necessary text lines.</p>
			<p>You might have noticed that line 100, 101 and 102 contain descriptive text. They are used by the procedures look_at_p_proc and description_p_proc.</p>
			<p>left: look_at_p_proc; right: description_p_proc</p>
			<img src="images\Dialog\look_at_p_proc.png" alt="">
			<img src="images\Dialog\description_p_proc.png" alt="">
		<br>
		<br>
		<br>

		<h4>Message file basic framework</h4>
			<p>The basic framework of every message file is this:</p>
					<code>
						<pre>
							{}{}{}
						</pre>
					</code>
			<p>Thats it. You just have to fill in these curvy brackets. The first pair of brackets contains the line number. The second pair stays always empty. 
				And the third one contains the sentences which will be said by the critters or the dude.
				The number inside the first pair of brackets simply is the line number of this dialog message. 
				So, if you want the npc or the dude talking to this npc say a certain sentence, you don't need to write the same sentence over and over again. 
				You just write the specific line number into your script which refers to the certain sentence you want the critters to say.</p>
			<p>Comments are written like this:</p>
					<code>
						<pre>
							#MyComment
						</pre>
					</code>
			<p>Everything behind the hashtag is interpreted as a comment.</p>
			<p>I like my message files a bit more organized. Like this...</p>
				<code>
					<pre>
						#############################################################
						#  
						#
						#  Message File: ACKLINT.msg                               
						#                                                          
						#       Body Type:  Klint
						#	Location: Arroyo - Temple entrance
						#       Combat AI: AI_ARROYO_WARRIOR                                     
						#       Weapons: Sharpened Spear                                       
						#       HP: ?                                               
						#       Skills to note: None                                
						#                                                                                                             
						#                                                           
						#  Created: November 13, 1997                               
						#                                                           
						#  Updated: December 24, 1997  
						#
						#                                                
						#############################################################


						#############################################################
						#  Used by look_at_p_proc and description_p_proc.
						#############################################################
						{100}{}{You see Klint, a fellow tribesman.}
						{101}{}{You see Klint.}
						{102}{}{You see a young man with bulging muscles and a very confident air about him.}
						#############################################################


						#############################################################
						#  Used by Node001
						#############################################################
						#Reply
						{103}{}{Good day to you, }
						{104}{}{. You have not completed the trial of the Elder and may not pass.}

						#NLowOption
						{105}{}{Uh...}								#Invokes Node002

						#NOption
						{106}{}{I need to go back to the village.}				#Invokes Node003
						{107}{}{I have some questions of you.}					#Invokes Node004
						{108}{}{All right, I'm off to take the test.}				#Invokes Node999
						#############################################################


						#############################################################
						#  Used by Node002
						#############################################################
						#Reply
						{109}{}{(sigh) }
						{110}{}{. You go temple. You take test. You not come back here until take test. Obey Elder. Go!}

						#NLowOption
						{111}{}{Me go.}								#Invokes Node999
						#############################################################


						#############################################################
						#  Used by Node003
						#############################################################
						#Reply
						{112}{}{Forgive me, }
						{113}{}{, but I can not allow you to pass. If you wish to return to the village you may do so only by passing the trial set before you.}

						#NOption
						{114}{}{I see. I guess I'll be going then.}				#Invokes Node999
						{115}{}{Can I ask you some questions then?}				#Invokes Node004
						{116}{}{I could kick your ass and just walk out of here.}		#Invokes Node005
						#############################################################


						#############################################################
						#  Used by Node004
						#############################################################
						#Reply
						{117}{}{Forgive me, but I have no answers to your questions. Take the trial set before you by the Elder and prove yourself worthy to lead our people.}

						#NOption
						{118}{}{Very well.}							#Invokes Node999
						#############################################################


						#############################################################
						#  Used by Node005
						#############################################################
						#Reply
						{119}{}{Two people working together can move the obelisk that blocks the path. Alone, you would fail. I have no intention of helping you until you pass the trial of the Elder.}

						#NOption
						{120}{}{Uh-huh. I get the picture.}					#Invokes Node999
						#############################################################


						#############################################################
						#  Used by Node006
						#############################################################
						#Reply
						{121}{}{Greetings, Chosen One! It is good to see you. How may I serve you?}

						#NLowOption
						{122}{}{Me say hi. That all.}						#Invokes Node007

						#NOption
						{123}{}{Just thought I'd say hello. I'll be leaving on my quest soon.} 	#Invokes Node007
						#############################################################


						#############################################################
						#  Used by Node007
						#############################################################
						#NMessage
						{124}{}{May the spirits of our ancestors protect you, Chosen One. I wish you well on your journey.}
						#############################################################
					</pre>
				</code>
			<p>But you can organize your message files as you like.</p>
			<br>
			<h5>Notice</h5>    
				<p>* Message files do always have the suffix .MSG. For example ACKLINT.MSG.</p>
	<br>
	<hr>

	<div id="pipboy"><h3>Add quest to pipboy</h3></div>
	<br>

		<h4>What do you need</h4>
				<code>
					<pre>
						E:\Fallout2\data\data\VAULT13.GAM
					</pre>
				</code>
				<code>
					<pre>
						E:\Fallout2\data\data\QUEST.TXT
					</pre>
				</code>
				<code>
					<pre>
						E:\Fallout2\data\text\english\Game\QUESTS.MSG
					</pre>
				</code>
		<p>Lets take a look at the internal of these files.</p>
		<br>
		<br>

		<h4>VAULT13.GAM</h4>
				<code>
					<pre>
						GAME_GLOBAL_VARS:
						//GLOBAL                                                NUMBER

						GVAR_PLAYER_REPUTATION                  :=0;    //      (0)
						GVAR_CHILDKILLER_REPUTATION             :=0;    //      (1)
						GVAR_CHAMPION_REPUTATION                :=0;    //      (2)
						GVAR_BERSERKER_REPUTATION               :=0;    //      (3)
						GVAR_BAD_MONSTER                        :=0;    //      (4)
						GVAR_GOOD_MONSTER                       :=0;    //      (5)
						GVAR_PLAYER_MARRIED                     :=0;    //      (6)
						GVAR_ENEMY_ARROYO                       :=0;    //      (7)
						GVAR_KNOWLEDGE_HEALING_POWDER           :=0;    //      (8)
						GVAR_KILL_EVIL_PLANTS                   :=0;    //      (9)
						[...]
					</pre>
				</code>
			<p>This file contains every GVAR defined.</p>
			<p>GVAR_x is the GVARs name as you already know.</p>
			<p>:=0; assigns a starting value to the GVAR. In this case 0.</p>
			<p>(0) is the placeholder for the GVARs name as you already know.</p>
		<br>
		<br>

		<h4>QUEST.TXT</h4>
				<code>
					<pre>
						#####
						# Arroyo Quests
						#####

						# Kill the Evil Plants
						# Arroyo, GVAR_KILL_EVIL_PLANTS, Quest_Accepted, Quest_Completed
						1500, 100, 9, 2, 6
						[...]
					</pre>
				</code>
			<p>Here are all the quests with their conditions.</p>
			<p>Everything after # is a comment.</p>
			<p>The 1500 retrieves the place name from the MAP.MSG. So in this example it stands for the desert.</p>
			<p>The 100 refers to the QUESTS.MSG. There you will find the names of the quests.</p>
			<p>The 9 refers to the global variable from the VAULT13.GAM.</p>
			<p>2 is the minimum value that the global variable must contain to be displayed in Pipboy.</p>
			<p>6 is the minimum value that the global variable must contain in order to be displayed as Done in Pipboy.</p>
		<br>
		<br>

		<h4>QUESTS.MSG</h4>
				<code>
					<pre>
						#
						# Arroyo Quests
						#
						{100}{}{Kill the evil plants that infest Hakunin's garden.}
						{110}{}{Obtain flint to have Mynoc sharpen your spear.}
						{120}{}{Rescue Nagor's dog, Smoke, from the wilds.}
						{130}{}{Retrieve the GECK for Arroyo.}
						{140}{}{Find Vic the Trader.}
						[...]
					</pre>
				</code>
			<p>This file contains every quest description.</p>
			<p>Everything after # is a comment.</p>
			<p>100 is the quests linenumber.</p>
			<p>The text behind is the quests description.</p>
	<br>
	<hr>

	<div id="MakeTrader"><h3>Make trader</h3></div>
		<br>
			<p>In this tutorial I shall attempt to explain how traders work and how to script you own. I will not be covering the actual script compiling or conversation nodes or basic script structure, just the trading part.</p>
			<p>Traders don't carry their shop inventory, they store it in shelves or other containers, sometimes visible and sometimes not.</p>
			<p>As we can see from Vault City, Randal and two others keep their stock in lockers that are outside the scroll edges of the map.</p>
			<img src="images\Scripting (Advanced)\Make_Trader\Tradertut1.webp" alt="">
			<p>As seen in San Fransisco and other maps, traders can have several tables or shelves to choose from. </p>
			<img src="images\Scripting (Advanced)\Make_Trader\Tradertut2.webp" alt="">
			<p>Traders actually use 2 boxes and 4 scripts to deal with swapping their inventory.</p>
			<p>First create a container somewhere off the edge of the map and give it the script 'ZITMPBOX.int'. 
				This is the temporary box for swapping the inventories. Think of it as the table you need to swap a glass of beer and a glass of wine between hands. 
				You have to put down one glass to pass the other from hand to hand.</p>
			<p>To use this box, you must put the following line in the map script after the procedure list at the start: </p>
				<code>
					<pre>
						export variable generic_temp_box;
					</pre>
				</code>
			<p>Each trader will also need a variable for their store box such as these listed in the Den's map script for the various traders. </p>
				<code>
					<pre>
						export variable den_flick_box_obj;
						export variable den_smitty_box_obj;
						export variable den_mom_box_obj;
						export variable den_metzger_box_obj;
						export variable den_tubby_box_obj;
					</pre>
				</code>
			<p>For the sake of this tutorial we'll be using Tubby in the den as our example. </p>	
			<p>In the trader's script you need to import the variables for the temporary box and the store box(s). Add the following lines after the #DEFINE's but before the procedures. </p>
				<code>
					<pre>
						import variable den_tubby_box_obj;
						import variable generic_temp_box;
					</pre>
				</code>
			<p>This brings in pointers to the temporary box and Tubby's store box to this script. </p>
			<p>To actually swap the contents of the trader's inventory with the store inventory, you use the following 2 lines (modified with the right variable name for the trader's box of course).</p>
				<code>
					<pre>
						move_obj_inven_to_obj(self_obj,generic_temp_box);
						move_obj_inven_to_obj(den_tubby_box_obj,self_obj);
					</pre>
				</code>
			<p>This (in order) moves the trader's personal inventory to the temporary box, and then moves the store box inventory to the trader. 
				This is usually initiated as a conversation node, but can be done as soon as you talk to him before the nodes start! 
				Next, once trading is complete and you say goodbye, the contents are swapped back by reversing the sequence like so:</p>
				<code>
					<pre>
						move_obj_inven_to_obj(self_obj,den_tubby_box_obj);
						move_obj_inven_to_obj(generic_temp_box,self_obj);
					</pre>
				</code>
			<p>This (in order) moves Tubby's inventory (which is his store inventory at this point) back to the store's box, and the contents of the temp box (Tubby's personal inventory) back to Tubby. </p>
			<p>Swapping back is usually done as part of the exit node(s) of a conversation (there may be more than one exit node such as "Thanks, bye", 
				where you walk away a happy customer, and "Screw you, you ripped me off" for example where he would end the conversation and start combat.) </p>
			<p>This deals with the trader script and it would work at that, but the stores stock would be limited to whatever you put in the store box and/or sold to the trader and once depleted would not re-stock. 
				For this you need a script on the store box to replenish the stock over time. </p>
		<br>

		<div id="StoreRestock"><h4>Store restock</h4></div>
			<p>Here is Tubby's store box for example on re-stocking over time: </p>
				<code>
					<pre>
						/* Include Files */
						#include "..\headers\define.h"

						#define NAME                    SCRIPT_DITUBBOX

						#include "..\headers\command.h"

						#define LVAR_RESTOCK_TIME                       (0)

						import variable den_tubby_box_obj;

						procedure start;
						procedure map_enter_p_proc;

						procedure start begin
						end

						procedure map_enter_p_proc begin
							if (is_loading_game == false) then begin
								if (local_var(LVAR_RESTOCK_TIME) < game_time) then begin
									item_caps_adjust(self_obj, random(151, 161) - self_caps);
									check_restock_item(PID_JET, 5, 10, 100)
									check_restock_item(PID_PSYCHO, 0, 2, 100)
									check_restock_item(PID_BUFFOUT, 0, 1, 100)
									check_restock_item(PID_10MM_PISTOL, 1, 2, 100)
									check_restock_item(PID_10MM_JHP, 2, 4, 100)
									check_restock_item(PID_10MM_AP, 0, 2, 100)
									check_restock_item(PID_BRASS_KNUCKLES, 1, 1, 100)
									check_restock_item(PID_LEATHER_JACKET, 1, 1, 100)
									check_restock_item(PID_STIMPAK, 2, 5, 100)
									check_restock_item(PID_10MM_SMG, 0, 1, 100)
									check_restock_item(PID_DESERT_EAGLE, 1, 2, 100)
									check_restock_item(PID_SLEDGEHAMMER, 0, 1, 100)
									check_restock_item(PID_RADAWAY, 0, 3, 100)
									set_local_var(LVAR_RESTOCK_TIME, (random(1, 2) * ONE_GAME_DAY) + game_time);
								end
							end
						end
					</pre>
				</code>
		<br>
			<p>The map_enter_p_proc gets called every time you enter the map.</p>
				<code>
					<pre>
						procedure map_enter_p_proc begin
					</pre>
				</code>
		<br>
			<p>It's been checked if you're loading a savefile. If yes skip entire procedure. If no proceed with next step.</p>
				<code>
					<pre>
						if (is_loading_game == false) then begin
					</pre>
				</code>
		<br>
			<p>It's been checked if the local variable LVAR_RESTOCK_TIME is smaller than the game time. In this case LVAR_RESTOCK_TIME = 0. Proceed with next step.</p>
				<code>
					<pre>
						if (local_var(LVAR_RESTOCK_TIME) < game_time) then begin
					</pre>
				</code>
		<br>
			<p>A random amount of caps will be added to the store box(between 151 and 161 inclusive). The chosen random amount of caps will be subtracted from the already contained caps inside the store box.</p>
				<code>
					<pre>
						item_caps_adjust(self_obj, random(151, 161) - self_caps);
					</pre>
				</code>
		<br>
			<p>Different items will be added to the store box. E.g. PID_JET is the proto ID Jet (the drug); 5 is minimum amount; 10 maxmimum amount and 100 is the percentage probability of the item to restock.</p>
				<code>
					<pre>
						check_restock_item(PID_JET, 5, 10, 100)
						check_restock_item(PID_PSYCHO, 0, 2, 100)
						check_restock_item(PID_BUFFOUT, 0, 1, 100)
						check_restock_item(PID_10MM_PISTOL, 1, 2, 100)
						check_restock_item(PID_10MM_JHP, 2, 4, 100)
						check_restock_item(PID_10MM_AP, 0, 2, 100)
						check_restock_item(PID_BRASS_KNUCKLES, 1, 1, 100)
						check_restock_item(PID_LEATHER_JACKET, 1, 1, 100)
						check_restock_item(PID_STIMPAK, 2, 5, 100)
						check_restock_item(PID_10MM_SMG, 0, 1, 100)
						check_restock_item(PID_DESERT_EAGLE, 1, 2, 100)
						check_restock_item(PID_SLEDGEHAMMER, 0, 1, 100)
						check_restock_item(PID_RADAWAY, 0, 3, 100)
					</pre>
				</code>
		<br>
			<p>After it has finished restocking, it sets the local variable LVAR_RESTOCK_TIME. A random number between 1 and 2 inclusive is taken. It multiplies the random number with one game day
				and adds the result with the elapsed game time.</p>
				<code>
					<pre>
						set_local_var(LVAR_RESTOCK_TIME, (random(1, 2) * ONE_GAME_DAY) + game_time);
					</pre>
				</code>
				<code>
					<pre>
						ONE_GAME_SECOND             (10)					// 10 ticks = 1 second
						ONE_GAME_MINUTE             (60*ONE_GAME_SECOND)
						ONE_GAME_HOUR               (60*ONE_GAME_MINUTE)
						ONE_GAME_DAY                (24*ONE_GAME_HOUR)
						ONE_GAME_WEEK               (7*ONE_GAME_DAY)
						ONE_GAME_MONTH              (30*ONE_GAME_DAY)
					</pre>
				</code>
			<p>This makes it re-stock every time you come back if it's been more than 1 or 2 days (depending on the random roll).</p>
		<br>
			<h5>Notice</h5>
				<p>The critter you want to be a trader must have the proto flag 'Barter = YES' otherwise you will face bugs.</p>
				<p>If you want to test your trading scripts you must test them inside game. The F8 mode won't execute the inventory swap.</p>
<br>	
<hr>
<hr>

<div id="complex"><h2>Scripting (Complex)</h2></div>
	<br>
	
		<h3>Fix the well for Feargus - Arroyo</h3>
			<img src="images\Scripting (Complex)\FO2_Arroyo_Feargus.jpg" alt="FO2 Arroyo Feargus">
			<p>At the center of the Arroyo village there is a well, and Feargus, the Chosen One's nephew, is standing next to it, 
				whining because it is broken. Simply Repair the well. Even with a negative Repair skill, it can still be fixed.</p>
			<p>This procedure is executed when the player uses the repair skill on the well. After using the skill, a message appears, and the player is rewarded with experience points.</p>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">use_skill_on_p_proc</span> <span class="dyestatement">begin</span>
							<span class="dyestatement">if</span> ((<span class="dyefunction">action_being_used</span> <span class="dyeoperator">==</span> <span class="dyehardcoded">SKILL_REPAIR</span>) <span class="dyestatement">and</span> (<span class="dyefunction">local_var</span>(LVAR_Gave_Xp) <span class="dyeoperator">==</span> <span class="dyedefine">0</span>)) <span class="dyestatement">then begin</span>
								<span class="dyefunction">script_overrides</span>;
								<span class="dyefunction">display_msg</span>(<span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">1005</span>));
								<span class="dyedevelopermacro">give_xp</span>(EXP_FIX_WELL);
								<span class="dyefunction">set_map_var</span>(MVAR_Fixed_Well,</span><span class="dyedefine">1</span>);
								<span class="dyefunction">set_local_var</span>(LVAR_Gave_Xp,</span><span class="dyedefine">1</span>);
							<span class="dyestatement">end</span>
						<span class="dyestatement">end</span>
					</pre>
				</code>
			<br>

			<h4>How does this work in detail? Lets break it down.</h4> 
				<p>The procedures use_skill_on_p_proc is called.</p>
				<code>
					<pre>
						<span class="dyestatement">procedure</span> <span class="dyeprocedure">use_skill_on_p_proc</span> <span class="dyestatement">begin</span>
						<span class="dyestatement">end</span>
					</pre>
				</code>
				<p>The first function action_being_used checks if the repair skill, written as SKILL_REPAIR, is used on the well. 
					The second one local_var checks if the local variable  LVAR_Gave_Xp is equal 0. 
					If both conditions match the following code is executed, else the procedure ends without anything been done.</p>
				<code>
					<pre>
						<span class="dyestatement">if</span> ((<span class="dyefunction">action_being_used</span> <span class="dyeoperator">==</span> <span class="dyehardcoded">SKILL_REPAIR</span>) <span class="dyestatement">and</span> (<span class="dyefunction">local_var</span>(LVAR_Gave_Xp) <span class="dyeoperator">==</span> <span class="dyedefine">0</span>)) <span class="dyestatement">then begin</span>
					</pre>
				</code>
				<p>For certain procedures in the game there are default functions that are called when nothing is written inside these procedures. 
					To prevent these default functions to happen when something is indeed written inside the procedures the function script_overrides is used.</p>
				<code>
					<pre>
						<span class="dyefunction">script_overrides</span>;
					</pre>
				</code>
				<p>Show message line 1005 of file GENERIC.msg.</p>
				<p>The function display_msg invokes the functionality to display a message. The function message_str has two arguments in this case. 
					SCRIPT_GENERIC is the message file (.msg) that contains all lines of text that should be used for generic purposes. 
					This file is actually named GENERIC.msg and is located at \text\english\dialog\GENERIC.msg. 100 and 101 are the lines which are contained inside the file GENERIC.msg.</p>
				<code>
					<pre>
						<span class="dyefunction">display_msg</span>(<span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">1005</span>));
					</pre>
				</code>
				<p>Inside EXPPOINT.H youll find the definition of the macro give_xp(x).</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> <span class="dyedevelopermacro"">give_xp</span>(x)    <span class="dyefunction">give_exp_points</span>(x);
												<span class="indent278px" class="dyefunction">display_msg</span>(<span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">100</span>)+x+<span class="dyefunction">message_str</span>(SCRIPT_GENERIC,<span class="dyedefine">101</span>))
					</pre>
				</code>
				<p>You can also define the amount of given exp points in the file EXPPOINT.H. In this example its EXP_FIX_WELL. 100 means 100 exp points given.</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> EXP_FIX_WELL &emsp; &emsp; &emsp; (<span class="dyedefine">100</span>)
					</pre>
				</code>
				<p>As you can see in the file ASWELL.SSL the macro give_xp is used with the defined argument EXP_FIX_WELL. 
					So, if you want to change the amount of exp points given. You just can change the defined argument in the file EXPPOINT.H.</p>
				<p>This give_xp(x) gives a certain amount of experience points to the player and displays a message to the player so he is informed how many exp points he received.</p>
				<code>
					<pre>
						<span class="dyedevelopermacro"">give_xp</span>(EXP_FIX_WELL);
					</pre>
				</code>
				<p>The function set_map_var sets the map variable MVAR_Fixed_Well to 1. The game remembers that the well has been fixed even if you change the map. 
					So, its not possible to trick the game and invoking this quest again.</p>
				<code>
					<pre>
						<span class="dyefunction">set_map_var</span>(MVAR_Fixed_Well,</span><span class="dyedefine">1</span>);
					</pre>
				</code>
				<p>The map variable MVAR_Fixed_Well is located in the ARVILLAG.H file inside the header folder.</p>
				<code>
					<pre>
						<span class="dyedefine">#define</span> MVAR_Fixed_Well</span> &emsp; &emsp; (<span class="dyedefine">4</span>)
					</pre>
				</code>
				<p>The set_local_var function sets the local variable LVAR_Gave_Xp to 1.
					So, if the player tries to invoke the procedure use_skill_on_p_proc again on the well, nothing happens.</p>
				<code>
					<pre>
						<span class="dyefunction">set_local_var</span>(LVAR_Gave_Xp,</span><span class="dyedefine">1</span>);
					</pre>
				</code>
<br>
<hr>

		<h3>Critters walk around</h3>
		<img src="" alt="">
		<p>You've probably seen critters of different kind walking around in random directions. Well based on a Brahmin in Arroyo I'll explain how this works.</p>
		<p>Inside ACBRAHMN.SSL on line 51 to 61 you'll find these code snippets.</p>
			<code>
				<pre>
						procedure timed_event_p_proc begin
							if (((critter_state(self_obj) bwand DAM_KNOCKED_DOWN) == FALSE)
								and (not(combat_is_initialized))) then begin
								reg_anim_clear(self_obj);
								reg_anim_begin();
									animate_move_to_tile(tile_num_in_direction(tile_num(self_obj),random(0,5),3));
								reg_anim_end();
							end
							add_timer_event(self_obj,game_ticks(random(3,5)),1);
						end
				</pre>
			</code>
		<br>
		<p>And on line 125 to 130 this.</p>
			<code>
				<pre>
						procedure map_enter_p_proc begin
							[...]
							add_timer_event(self_obj,game_ticks(random(1,5)),1);
						end
				</pre>
			</code>
		<br>
		<p>So when the player enters the map the following procedure will be executed.</p>
			<code>
				<pre>
						procedure map_enter_p_proc
				</pre>
			</code>
		<p>And with it the following function.</p>
			<code>
				<pre>
						add_timer_event(self_obj,game_ticks(random(1,5)),1);
				</pre>
			</code>
		<p>add_timer_event adds a timed event to the script queue. That means if add_timer_event is called it'll execute code inside the procedure timed_event_p_proc.</p>
		<p>In this case add_timer_event will be executed on self_obj (brahmin) every 1 to 5 (every number in between included) seconds.</p>
		<p>Now it jumps into the procedure timed_event_p_proc and continues code execution here.</p>
			<code>
				<pre>
						if (((critter_state(self_obj) bwand DAM_KNOCKED_DOWN) == FALSE)
							and (not(combat_is_initialized))) then begin
				</pre>
			</code>
		<p>The first line looks if the critters is knocked down. The second line looks if the critter is inside a combat situation.</p>
		<p>Let's assume the brahmin isn't knocked down and no combat is initialized. Then the following is executed.</p>
			<code>
				<pre>
							reg_anim_clear(self_obj);
							reg_anim_begin();
								animate_move_to_tile(tile_num_in_direction(tile_num(self_obj),random(0,5),3));
							reg_anim_end();
						end
				</pre>
			</code>
		<p>First line clears all momentarily executed animations of the brahmin.</p>
		<p>The second line initiates the beginning of an animation.</p> 
		<p>The third line does the actual animation. It says that an animation to a tile should be executed to a random direction beginning at 0 going to 5 (remember the directions inside the BIS mapper?) 
			and a distance of 3.</p>
		<p>And the fourth line terminates the execution of the animation.</p>
		<p>Next line is known from before. The add_timer_event. Now it'll be executed not every 1 to 5 seconds, instead it will be executed every 3 to 5 (4 included)
			seconds and repeats the code inside timed_event_p_proc.</p>
		<p>Now assume the Brahming is knocked down or inside a fight, the animation won't be executed and the code jumps directly to the add_timer_event inside timed_event_p_proc.</p>

<br>
<hr>
<hr>

<div id="Make_DAT_file"><h2>Make your own DAT-file</h2></div>
		<p>If you're finished with creating the files and directories you need for your mod, you can bundle them into one single file, the DAT-file.</p>
		<p>To do this we open the DATExplorer2.exe</p>
		<p>Hit "New" and a dropdown menu will appear. Choose "DAT: Fallout 2".</p>
		<img src="images\Make_DAT_file\2022-11-11 21_48_16-Unbenannt - Paint.png" alt="">
		<p>A new window will appear that asks you in which directory to save the new DAT-file. Choose a location.</p>
		<img src="images\Make_DAT_file\2022-11-11 21_53_40-Speichern unter.png" alt="">
		<p>Insert a name for your new DAT-file. Call it whatever you want and hit "Save".</p>
		<img src="images\Make_DAT_file\2022-11-11 21_51_34-Speichern unter.png" alt="">
		<p>A new DAT-file with the given name will appear in the chosen directory and inside DATExplorer2.</p>
		<img src="images\Make_DAT_file\2022-11-11 21_53_58-DAT Explorer II - v1.1.0.0 - by Mr.Stalin.png" alt="">
		<p>Mark all directories you want to be part of the new DAT-file and drag and drop them on empty space anywhere on the right side inside DATExplorer2.</p>
		<img src="images\Make_DAT_file\2022-11-11 21_54_38-Q-Dir 11.13.png" alt="">
		<p>After the upload is complete, you'll see your directories building a directory-hierachy under your newly created DAT-file.</p>
		<img src="images\Make_DAT_file\2022-11-11 21_55_35-DAT Explorer II - v1.1.0.0 - by Mr.Stalin.png" alt="">
		<p>When you're finished with filling your DAT-file, hit "Save" and confirm with "yes".</p>
		<img src="images\Make_DAT_file\2022-11-11 21_57_26-DAT Explorer II - v1.1.0.0 - by Mr.Stalin.png" alt="">
		<p>A banner will appear in the middle of the DATExplorer2 window, saying: "Wait for saving the DAT file...".</p>
		<img src="images\Make_DAT_file\2022-11-11 21_57_45-.png" alt="">
		<p>On the bottom of the application a progress bar will appear showing what file is being packed.</p>	
		<img src="images\Make_DAT_file\2022-11-11 21_58_20-DAT Explorer II - v1.1.0.0 - by Mr.Stalin.png" alt="">
		<p>After the message is disappeared you can check if your DAT-file has been created corretly by simply unpacking it again.</p>
<br>
<hr>

<div id="Make_Installer"><h2>Make your own installer</h2></div>
		<p>Now it's the time you've got everything that makes a mod. But to make life easier for everyone who wants to play your mod, 
			you simply can create an installer that handels almost everything.</p>
		<p>Let's start by creating a .zip file by marking all the files you want to by inside your mod-folder, right-click and zip it.</p>
		<img src="images\Make_Installer\2022-11-16 21_31_43-Unbenannt - Paint.png" alt="">
		<img src="images\Make_Installer\2022-11-16 21_32_45-Q-Dir 11.13.png" alt="">
		<p>Download and install the application called NSIS. You can get it <a href="https://nsis.sourceforge.io/Download">here</a>.</p>
		<p>Execute the app and hit "Installer based on .ZIP file".</p>
		<img src="images\Make_Installer\2022-11-16 21_34_22-Q-Dir 11.13.png" alt="">
		<p>Under "Source ZIP file" hit "Open..." and choose the .zip-file of your mod.</p>
		<img src="images\Make_Installer\2022-11-16 21_34_56-Zip2Exe 0.38.png" alt="">
		<p>After you've loaded the .zip-file you'll see near "Extracted" the total amount of the conatained files inside the .zip-file and the size.</p>
		<p>Nearby "Installer Name" well... you can enter the name of your mod.</p>
		<p>"Interface" sets what the installers interface should looke like while installing.</p>
		<p>"Default Folder" is the installation destination of the installer. You can leave it empty, enter a path or simply enter the name of your mod.</p>
		<p>You see that I entered my mods name inside this field.</p>
		<img src="images\Make_Installer\2022-11-16 21_35_25-Zip2Exe 0.38.png" alt="">
		<p>"Output EXE File" is where your installer will be located after generating it and the name of the installer.</p>
		<p>And last but not least "Compression". Default settings are ok.</p>
		<p>After you're done, hit "Generate".</p>
		<p>A new window appears and shows the generation process.</p>
		<img src="images\Make_Installer\2022-11-16 21_35_36-Zip2Exe 0.38.png" alt="">
		<p>The process takes a while.</p>
		<img src="images\Make_Installer\2022-11-16 21_38_44-Zip2Exe 0.38.png" alt="">
		<p>The process is done. You can close the window now.</p>
		<p>Your installer is created. You can use and distribute it now.</p>
		<img src="images\Make_Installer\2022-11-17 19_59_55-Window.png" alt="">
<br>
<hr>

<div id="sFall"><h2>Scripting (sFall) (Optional)</h2></div>
	<a href="https://sfall.bgforge.net/">sFall scripting guide</a>
<br>
<br>
<hr>

<div id="art"><h2>Art (Optional)</h2></div>
<br>

	<div id="talkhead"><h3>Talking Heads</h3></div>
	<br>

		<h4>Preparations</h4>
			<p>Make sure you have these programs:</p>
				<code>
					<pre>
						Adobe Photoshop or Gimp (preferably the former),
						Fallout Frame Animator,
						SFall Script Editor.
					</pre>
				</code>
		<br>

		<h4>Animation Basics</h4>
			<p>Every talking head has 3 moods:</p>
				<code>
					<pre>
						Bad,
						Neutral and
						Good.
					</pre>
				</code>
			<p>Each one of them must have at least 1 idle animation (most vanilla heads have 3) and 1 speaking animation otherwise the game won't function properly. 
				If you downloaded the Vic images, you'll notice that there's a folder for each mood with 3 idle/fidget and speaking animations each.</p>
			<p>The folder structure can look like this:</p>
				<code>
					<pre>
						Bad
						|
						|->Fidget1
							|->1.png
							|->2.png 
						|
						|->Fidget2
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
							|->8.png  
						|
						|->Fidget3
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
						|
						|->Talk
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
							|->8.png
							|->9.png

						Good
						|
						|->Fidget1
							|->1.png
							|->2.png  
							|->3.png
							|->4.png
						|
						|->Fidget2
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
							|->8.png  
							|->9.png
						|
						|->Fidget3
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
						|
						|->Talk
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
							|->8.png
							|->9.png

						Neutral
						|
						|->Fidget1
							|->1.png
							|->2.png  
							|->3.png
							|->4.png
						|
						|->Fidget2
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
							|->8.png  
							|->9.png
							|->10.png   
							|->11.png
							|->12.png   
							|->13.png
							|->14.png  
							|->15.png
						|
						|->Fidget3
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
							|->8.png
						|
						|->Talk
							|->1.png
							|->2.png
							|->3.png
							|->4.png   
							|->5.png
							|->6.png   
							|->7.png
							|->8.png
							|->9.png
						|
						|->Transitions
							|->Neutral - Bad
								|->1.png
								|->2.png
								|->3.png
								|->4.png   
								|->5.png
							|
							|->Neutral - Good
								|->1.png
								|->2.png
								|->3.png
								|->4.png   
								|->5.png
					</pre>
				</code>
			<br>

		<h4>Converting images to proper format</h4>
			<p>First off open your first series of images (in this case the folder "Neutral\Fidget1").</p>
			<img src="images\TalkingHeads\Photoshop picture 1.png" alt="Photoshop picture 1.">
			<br>
			<br>
			<p>Select all layers and change the image size to 356 x 200.</p>
			<img src="images\TalkingHeads\Photoshop picture 2.png" alt="Photoshop picture 2.">
			<br>
			<br>
			<p>Go to Image -> Mode -> Indexed Color and select Custom Palette.</p>
			<img src="images\TalkingHeads\Photoshop picture 3.png" alt="Photoshop picture 3.">
			<br>
			<br>
			<p>Open the Fallout Frame Animator folder and select the Fallout.act file (I've also uploaded the palette in this message).</p>
			<img src="images\TalkingHeads\Photoshop picture 4.png" alt="Photoshop picture 4.">
			<br>
			<br>
			<p>Save the image as an 8bit BMP this is the image format the Fallout 2 engine uses.</p>
			<p>Do the same process for all the images.</p>
			<br>
			<h5>Tips</h5>
			<p>* Make sure you use a uniform color as the background for your images (the transparent part of PNG images turn white which is ideal) as the program to create FRMs (which we will see in the next step) 
				will cut the background color, for this reason try not have that same one on the character of the program will cut sections of the it that uses the same color.</p>    
			<p>* Use shortcut keys to make the workflow faster on Photoshop you can go to Edit -> Keyboard Shortcuts to make your own.</p>    
			<p>* You don't have to use Photoshop, Gimp is a good free alternative. </p>    
		<br>

		<h4>How the animations work</h4>
			<p>Before creating our animation files (FRMs) I'll try to explain how the talking head animations work.</p>
			<p>Every talking head file (.frm) has main name that must be 5 letters or less, for this tutorial we will use the word "Vic".
				You then add the relevant suffix to the name for each animation, they are as follows:</p>
				<code>
					<pre>
						B = Bad mood
						G = Good Mood
						N = Neutral Mood
						f1 = Fidget 1 (Character blinking)
						f2 = Fidget 2 (Character nodding)
						f3 = Fidget 3 (Character shaking head)
						(B,G,N)P = Character talking.
						BN,NB,GN,NG = Mood transition from (B,G,N) to (B,G,N)
					</pre>
				</code>
		<br>

			<h5>Examples</h5>
				<p>If you want to create an animation for Vic where he is blinking and in a neutral mood you must name it:</p>
				<code>
					<pre>
						VicNf1
					</pre>
				</code>
				<p>Vic (the characters name) + N (the mood he is in) + f1 (Fidget 1).</p>
			<br>
				<p>If you want to create an animation where Vic is speaking in a bad mood you must name it:</p>
				<code>
					<pre>
						VicBP
					</pre>
				</code>
				<p>Vic (the character name) + B (the mood he is in) + P (Talk).</p>
			<br>
				<p>If you want to an animation where Vic transitions from good to neutral mood you must name it:</p>
				<code>
					<pre>
						VicGN
					</pre>
				</code>
				<p>Vic (the character name) + GN ( Good to Neutral).</p>
				<p>Hopefully this isn't too confusing.</p>
			<br>

			<p>I'll show you what each animation looks like.</p>
			<p>Neutral mood:</p>
			<p>Nf1 (Neutral Fidget 1).</p>
			<img src="images\TalkingHeads\nf1.gif" alt="Vic neutral fidget 1.">
			<p>Nf2 (Neutral Fidget 2).</p>
			<img src="images\TalkingHeads\nf2.gif" alt="Vic neutral fidget 2.">
			<p>Nf3 (Neutral Fidget 3).</p>
			<img src="images\TalkingHeads\nf3.gif" alt="Vic neutral fidget 3.">
			<p>NP (Neutral Talk).</p>
			<img src="images\TalkingHeads\np.gif" alt="Vic neutral talk.">
		<br>
		<br>
		<br>
			<p>Bad mood:</p>
			<p>Bf1 (Bad Fidget 1).</p>
			<img src="images\TalkingHeads\bf1.gif" alt="Vic bad fidget 1.">
			<p>Bf2 (Bad Fidget 2).</p>
			<img src="images\TalkingHeads\bf2.gif" alt="Vic bad fidget 2.">
			<p>Bf3 (Bad Fidget 3).</p>
			<img src="images\TalkingHeads\bf3.gif" alt="Vic bad fidget 3.">
			<p>BP (Bad Talk).</p>
			<img src="images\TalkingHeads\bp.gif" alt="Vic bad talk.">
		<br>
		<br>
		<br>
			<p>Good mood:</p>
			<p>Gf1 (Good Fidget 1).</p>
			<img src="images\TalkingHeads\gf1.gif" alt="Vic good fidget 1.">
			<p>Gf2 (Good Fidget 2).</p>
			<img src="images\TalkingHeads\gf2.gif" alt="Vic good fidget 2.">
			<p>Gf3 (Good Fidget 3).</p>
			<img src="images\TalkingHeads\gf3.gif" alt="Vic good fidget 3.">
			<p>GP (Good Talk).</p>
			<img src="images\TalkingHeads\gp.gif" alt="Vic good talk.">
		<br>
		<br>
		<br>
			<p>Mood Transitions:</p>
			<p>NB (Neutral to Bad)</p>
			<img src="images\TalkingHeads\nb.gif" alt="NB (Neutral to Bad).">
			<p>BN (Bad to Neutral).</p>
			<img src="images\TalkingHeads\bn.gif" alt="BN (Bad to Neutral).">
			<p>NG (Neutral to Good).</p>
			<img src="images\TalkingHeads\ng.gif" alt="NG (Neutral to Good).">
			<p>GN (Good to Neutral).</p>
			<img src="images\TalkingHeads\gn.gif" alt="GN (Good to Neutral).">
		<br>
		<br>
		<br>

		<h4>Creating FRMs</h4>
			<p>After converting our images to 8bit BMPs we can open the Fallout Frame Animator Program and click Add Frames (Ctrl + A).</p>
			<img src="images\TalkingHeads\Creating FRMs 1.png" alt="">
			<br>
			<br>
			<p>We will be creating the first neutral fidget (Nf1) so select the relevant BMP images.</p>
			<img src="images\TalkingHeads\Creating FRMs 2.png" alt="">
			<br>
			<br>
			<p>We will have to remove the white background, to do this go to options (folder icon left of the vault boy icon) and on Transparent Color check Auto and on Frames Tune check Autocutting.</p>
			<img src="images\TalkingHeads\Creating FRMs 3.png" alt="">
			<br>
			<br>
			<p>We will save the file as "VicNf1", use the previous section for naming guidelines.</p>
			<img src="images\TalkingHeads\Creating FRMs 4.png" alt="">
			<br>
			<br>
			<p>Create all the remaining FRMs, this is what the complete set will look like:</p>
				<code>
					<pre>
						VicBf1.frm
						VicBf2.frm
						VicBf3.frm
						VicBN.frm
						VicBP.frm
						VicGf1.frm
						VicGf2.frm
						VicGf3.frm
						VicGN.frm
						VicGP.frm
						VicNB.frm
						VicNf1.frm
						VicNf2.frm
						VicNf3.frm
						VicNG.frm
						VicNP.frm 
					</pre>
				</code>
		<br>
		
		<h4>Talking Animations</h4>
			<p>All talking animations (NP,GP,BP) must have 9 frames, each one representing a different viseme (the shape the mouth makes when saying a letter).</p>
			<img src="images\TalkingHeads\Creating FRMs 5.png" alt="">
			<p>I'm not 100% sure of the exact order but I think it is:</p>
				<code>
					<pre>
						1 - Closed (In between frame)
						2 - A
						3 - E
						4 - I
						5 - F
						6 - L
						7 - M
						8 - O
						9 - U
					</pre>
				</code>
		<br>

			<h5>Animation Tips</h5>
				<p>* The bare minimum amount of animations for a Talking Head to be functional is this:</p>
				<code>
					<pre>
						[name]Nf1,
						[name]NP,
						[name]NG,
						[name]NB,
						[name]Bf1,
						[name]BN,
						[name]BP
						[name]Gf1
						[name]GN
						[name]GP
					</pre>
				</code>
				<p>* If use want to make a static image as a Talking Head instead of an animated one, simply make a FRM of each animation (mentioned in the previous tip) with that single image. </p>
				<p>* Try to make the animations loop so in game the Heads will look fluid, make sure the last frame links to the first one.</p>
				<p>* The first frame of Nf1,Bf1 and Gf1 (specially Nf1) is arguably the most important as the Head freezes on it before randomly choosing one of the Fidgets (f1,f2,f3), so make sure it looks cool! </p>
		<br>

		<h4>Adding our head into the game</h4>
			<p>For this section we will need the Sfall Script editor and "Dat Explorer" by Dims.</p>
		<br>

		<h4>Creating a Patch</h3>
			<p>Go into your main Fallout 2 directory and create a folder called "patch001.dat" 
				(if you already have a "patch001" folder or .dat file name it "patch002"), open it and create two new folder named "art" and "scripts" respectively.</p>
			<img src="images\TalkingHeads\Patch 1.png" alt="">
			<br>
			<br>
			<p>Open the "art" folder and create a folder named "heads".</p>
			<img src="images\TalkingHeads\Patch 2.png" alt="">
			<br>
			<br>
			<p>In the main Fallout 2 directory open the "master.dat" file with Dat Explorer</p>
			<img src="images\TalkingHeads\Patch 3.png" alt="">
			<br>
			<br>
			<p>In Master.dat open the "art" folder and then the "heads" folder and find "HEADS.lst".</p>
			<img src="images\TalkingHeads\Patch 4.png" alt="">
			<br>
			<br>
			<p>Extract HEADS.lst to the "heads" folder we created inside of "patch001.dat" (.../patch001/art/heads).</p>
			<p>Put all the Vic FRMs we created earlier in the "Heads" folder, it should look like this:</p>
			<img src="images\TalkingHeads\Patch 5.png" alt="">
			<br>
			<br>
			<p>Open HEADS.lst with a text editing software like Notepad (ideally Notepad++), this is the list of all the the Talking Heads in Vanilla Fallout 2. 
				The name on each line is the name of one talking head (for example Marcus' head is named "mrcus"), 
				the "3,3,3" indicates how many fidget/idle animations they have for each mood (Bad, Neutral, Good in this order).</p>
			<img src="images\TalkingHeads\Patch 6.png" alt="">
			<br>
			<br>
			<p>Add the line "vic,3,3,3" at the bottom of the list: vic is the name of the talking head and 
				3,3,3 is the number of fidgets we made (bf1, bf2, bf3 for Bad, nf1, nf2, nf3 for Neutral and gf1,gf2, gf3 for Good)</p>
			<img src="images\TalkingHeads\Patch 7.png" alt="">
			<br>
			<br>
			<p>Go to the "scripts" folder inside "master.dat" and open the character's script you wish to modify, for example "acklint.int".
				To open Fallout 2 script files (.int) you can use various programs, to most common is Sfall Script Editor.</p>
			<p>Find the line starting with "start_gdialog" (use CTRL + F to find code with ease).
				If it has no talking head assigned to it, it will look like this (the first number will be different):</p>
				<code>
					<pre>
						start_gdialog(1364, self_obj, 4, -1, -1);
					</pre>
				</code>
			<p>* The first number (1364) represent's the characters script number, you don't need to change that.
			<br>
			* "self_obj" makes it so that the code is referring to the object it's assigned to, you also don't need to change this.
			<br>
			* The second number (4) represents the mood the character is in, 4 is neutral, 1 is happy and 7 is angry. 
			<br>
			&nbsp;	You can change these if you want your character to start the dialog with a certain mood, although it's not essential.
			<br>
				* The third number (-1) represents the talking head the character would use, since it doesn't have one the number is -1, we will be changing this one.
			<br>
				* And finally the fourth number ( the last -1) represents the background the character would be using, as it doesn't have one the number is -1, we will also be changing this.</p>
			<p>Open "head.lst" in ".../art/heads" and "backgrnd.lst" in ".../art/backgrnd":</p>
			<p>* "head.lst" lists all the talking heads in the game files, they are ordered numerically from top to bottom (starting from 0).
			<br>
			&nbsp;	For example Sulik's head is the 9th row in the list so, since we start counting from 0, his talking head number is "8".
			<br>
				* "backgrnd.lst" is very similar as it lists all the backgrounds in the game.
			<br>
			&nbsp;	For example "junktown.frm" is in the 8th row so, since we also start counting from 0, it's background number is "7".</p>
			<p>Using both "head.lst" and "backgrnd.lst" as a reference change the "start_gdialog" line as follows:</p>
				<code>
					<pre>
						start_gdialog(1364, self_obj, 4, [talking head number], [background number]);
					</pre>
				</code>
			<p>* The [talking head number] for the one we are adding would be it's number in "head.lst", for example if you modified the vanilla list the number would likely be "13".
			<br>
			* You can choose anything you want as a background, for example use "3" if you want The Hub backdrop.</p>
			<p>Using these examples the code would look like this:</p>
				<code>
					<pre>
						start_gdialog(1364, self_obj, 4, 13, 3);
					</pre>
				</code>
			<p>* There may be more than one "start_gdialog" line so make sure you change all of them.</p>
			<br>
			<p>Compile the script and you are done!</p>
	<br>
	<hr>
<!--
	<div id="end"><h3>Add new ending sequence</h3></div>
	<br>
		<p>To be able to add new ending sequences in Fallout 2, we need to change the Endgame.txt in the Fallout2\data\data folder.</p>
				<code>
					<pre>
						#####
						# Arroyo
						#####
						408, 1, 440, nar_ar1
					</pre>
				</code>
		<p>The 408 stands for the number of the Global Variable. The VAULT13.GAM contains the list. In this the GVAR is called GVAR_ENDGAME_MOVIE_ARROYO.</p>
		<p>The global variable must have the value 1 to call this end. But of course it can also be used as a counter.</p>
		<p>Graphic 440 is loaded from Fallout2\art\intrface\intrface.lst.</p>
		<p>nar_ar1 calls the file of the same name from the Fallout2\text\...\cuts directory.</p>
		<br>
		<p>If you use a new graphic, you must of course also enter it in the list. The global variables are switched by script. When using new global variables, these must also be entered. </p>
		<p>The order in which the closing sequences run at the end of the game conforms to the order in Endgame.txt.</p>
	<br>
	<hr>

	<div id="tiles"><h3>Making new tiles</h3></div>
	<br>
		<p>Here's the basic process so far, I have tried a few of them ingame and they work great, so this works so far.
			Please note that the tiles are slightly bigger than you would expect them to be and do not fit neatly together, in fact they actually overlap slightly which provides a snug fit in game.</p>
		<p>Step1:</p>
		<p>Download a free square tile or texture, you want something that is fairly consistent so that the tiles come out seamless. You can also make your own texture with The Gimp.</p>
		<img src="images\making_new_tiles\step1_tile.webp" alt="">
		<p>Step2:</p>
		<p>Save this template file. You will be using this as the tile mask.</p>
		<img src="images\making_new_tiles\step2_tile.webp" alt="">
		<p>Step3:</p>
		<p>Paste the template onto the texture, you can do this in any image editor eg mspaint. </p>
		<img src="images\making_new_tiles\step3_tile.webp" alt="">
		<p>Step4:</p>
		<p>Resize the image to 80 pixels by 36 pixels (the size of the template). Here are a few I've already done. </p>
		<img src="images\making_new_tiles\step4a_tile.webp" alt="">
		<img src="images\making_new_tiles\step4b_tile.webp" alt="">
		<img src="images\making_new_tiles\step4c_tile.webp" alt="">
		<p>Step5:</p>
		<p>Optional Step - Create Tile variations Once you have made your new seamless tile you can start to make variations of the tile. In this example we will make a tile that has a blood stain on it. 
			I just cut the blood stain out of an old screen shot and then pasted it onto the new tile. You can use this method to make a tile that has bits of grass on it or some bones for example. </p>
		<img src="images\making_new_tiles\step5a_tile.webp" alt="">
		<img src="images\making_new_tiles\step5b_tile.webp" alt="">
		<p>Step6:</p>
		<p>The following are the two opposite transitions templates, for creating the transition from one tile type to another. </p>
		<img src="images\making_new_tiles\step6a_tile.webp" alt="">
		<img src="images\making_new_tiles\step6b_tile.webp" alt="">
		<p>Here's an example of the transitions from dark sand to light sand. </p>
		<img src="images\making_new_tiles\step6c_tile.webp" alt="">
		<p>Step7:</p>
		<p>You can now cut the new tiles into separate 80x36 tiles and save them as a PNG file. </p>
		<p>Step8:</p>
		<p>Now it is possible to convert the tile into a FRM for use with FO1 or FO2, this can be done by using Frame Animator. Just add each PNG tile into frame animator and create a new FRM for each tile. </p>
	<br>
	<hr>

	<div id="walls"><h3>Making new walls</h3></div>
	<br>
		<p>When ever you make a wall you need to add the offset information so that the wall is centered correctly. 
			Save the new wall as a *.FRM file, using a program such as Frame Animator, but make sure you use the edit the Frames Offset with the wall offsets at the bottom of this artical. </p>
		<h4>Offset summary</h4>
		<p>The offset is the 'x' and 'y' shift of the art object in pixels, this is used to align the wall segment in the correct location within the hex. 
			If you use these templates you can just use the given offset values for any new walls you make. The offset file should use the following format. </p>
		<p>offset=X,Y</p>
		<p>X = A postive number will shift the image to the right and a negative will shift it to the left.</p>
		<p>Y = A Postive number will shift the the image down and a negative number will shift it up. </p>
		<h4>Master Templates</h4>
		<p>Take each of these templates and overlay them onto the desired wall texture, then over lay each of wall sections onto of each other. 
			You will end up with a selection of walls as like in the example below. 
			When you are selecting the textures to use I found it easier to pick one texture and then just adjust the brightness of the image so that you have three different levels of contrast. 
			The brightest texture should be the top of the walls. </p>
		<img src="images\makine_new_walls\Master.PNG.webp" alt="">
		<br>
		<img src="images\makine_new_walls\Master_-_Blue.PNG.webp" alt="">
		<br>
		<img src="images\makine_new_walls\Master_-_Green.PNG.webp" alt="">
		<br>
		<img src="images\makine_new_walls\Master_-_Red.PNG.webp" alt="">
		<br>
		<img src="images\makine_new_walls\Master_-_Yellow.PNG.webp" alt="">
		<br>
			<h5>Example</h5>
			<img src="images\makine_new_walls\Concrete_-_Walls.PNG.webp" alt="">- Completed walls
			<br>
			<img src="images\makine_new_walls\Concrete_-_Medium.PNG.webp" alt="">- medium shade (dark shade + 20 brightness)
			<br>
			<img src="images\makine_new_walls\Concrete_-_Light.PNG.webp" alt="">- Light shade - Top (medium shade + 20 brightness)
			<br>
			<img src="images\makine_new_walls\Concrete_-_Dark.PNG.webp" alt="">- dark shade (taken from the Gimp)
		<br>
		<h4>Wall Templates</h4>
		<img src="images\makine_new_walls\Wall1.PNG.webp" alt="">- offset=0,6 
		<br>
		<img src="images\makine_new_walls\Wall2.PNG.webp" alt="">- offset=8,10 
		<br>
		<img src="images\makine_new_walls\Wall3.PNG.webp" alt="">- offset=-7,2 
		<br>
		<h4>Corner Templates</h4>
		<img src="images\makine_new_walls\Corner1.PNG.webp" alt="">- offset=0,0 
		<br>
		<img src="images\makine_new_walls\Corner2.PNG.webp" alt="">- offset=0,14 
		<br>
		<img src="images\makine_new_walls\Corner3.PNG.webp" alt="">- offset=0,6 
		<br>
		<img src="images\makine_new_walls\Corner4.PNG.webp" alt="">- offset=5,16 
		<br>
		<h4>Wall Intersections</h4>
		<img src="images\makine_new_walls\Wall-int1.PNG.webp" alt="">- offset=1,14 
		<br>
		<img src="images\makine_new_walls\Wall-int2.PNG.webp" alt="">- offset=0,14 
		<br>
		<img src="images\makine_new_walls\Wall-int3.PNG.webp" alt="">- offset=0,13 
		<br>
		<img src="images\makine_new_walls\Wall-int4.PNG.webp" alt="">- offset=0,6 
		<br>
		<img src="images\makine_new_walls\Wall-int5.PNG.webp" alt="">- offset=0,13 
	<br>
	<hr>
	
	<div id="fot"><h3>How To use FOT Critters In FO2</h3></div>
		<p>This is a basic tutorial on how to make a new FRM for a critter in Fallout 2. 
			Though this tutorial will explain the steps in taking a new critter from Fallout Tactics a lot will apply to creating new FRMs for critters in general. 
			Requirements A suitable *.Spr file from Fallout Tactics, in this case we will use "environmental.spr" Spr2Frm (Includes Spr2Gif, Gif2Fr, and FrmCat) Frame Animator 2.51 Frame Animator Scripts RenFRM.bat </p>
		<h4>Making the raw FRMs</h4>
		<p>Ok in this step you will actually make the new FRMs, though these are only a 'raw' FRM as they still need to be tidied up or they just look nasty.</p>
		<p>Copy environmental.spr into the same folder as Spr2Frm and from command prompt type the following (note: without the *.Spr file extension):</p>
		<p>Spr2Frm environmental</p>
		<p>Sit back and enjoy the show, this could take a while on some computers. Once the conversion is completed proceed to the next step. </p>
		<h4>Aligning the new FRMs</h4>
		<p>Now to adjust the alignment for all the FRMs, dont worry its not as bad as it sounds, you only have to make sure that the primary FRM is centered correctly and the engine automaticaly aligns the rest to this one. 
			The primary FRM is the one that is named xxxxxxAA.FRM but at the moment it is called either StandBreath or StandFidget if it is available, 
			the good thing about the FO2 engine is that is automaticly looks at the image in the FRM and lines them all up so that the feet are in the same place as the primary FRM. 
			Open Frame Animator Select 'File' and 'Open', and select the first FRM Select 'View' and 'Hexes' </p>
		<img src="images\how_to_add_fot_critter\fot1.webp" alt="">
		<p>You may have noticed how the critters feet are not centred in the hex correctly; you will need to adjust the 'Frames Offset' (note the 's' do not adjust the Frame Offset yet). 
			You can do this by clicking the 'Frames Offset' button or by dragging the image with the mouse. You should end up with something like this: </p>
		<img src="images\how_to_add_fot_critter\fot2.webp" alt="">
		<p>You will now need to repeat this for all six different orientations (North East, East, South East, South West, West, & North West), 
			to save you will need to click the 'Create FRM' button. You may also have noticed that you when save the file it gives you the option to save as separate FRMs for each orientation, 
			I think that this is to improve the loading time of larger FRMs such as death sequences. I left them all as FRM rather than FR0,FR1,FR2,FR3,FR4,FR5 files. </p>
		<img src="images\how_to_add_fot_critter\fot3.webp" alt="">
		<p>This is due to Spr2Gif centring each orientation on a different point. It's not really a big problem anyway as you only have to adjust one or two FRMs, 
			depending on what one you use, but if the critter has a FRM called StandFidgit you should use it instead as they usally look better. </p>
		<img src="images\how_to_add_fot_critter\fot4.webp" alt="">
		<h3>Step 3 - Walking, Running & Climbing</h3>
		<p>Now the FRMs that 'walk' and 'run' require some special treatment before they will work, in fact if you do not adjust the individual Frame Offset for each frame the critters feet will just slide in the original hex when 
			it tries to move, in fact it does it indefinitely (I had to hit the reset button on my computer to get out). Thanks to Jochua adding 'automate' and scripting support this is now super easy 
			(previously for each frame of the critter you will need to adjust the Frame Offset for each 'step' the critter takes in a given direction, this also had to be repeated for each of the orientations) </p>
		<p>Open Frame Animator Select 'File' and 'Automate...' </p>
		<img src="images\how_to_add_fot_critter\fot5.webp" alt="">
		<p>In the 'Source' box select the desired movement FRMs Tick the 'Script' check box Browse to the desired script (eg: 'Walking 11' for a walking animation containing 11 frames) 
			Set the 'Destination' folder Set the 'Destination Format' to 'FRM' </p>
		<p>Click 'Start' </p>
		<p>This will automacticaly set the movement for all the FRMs that were selected. You will need to run a different script for each of the following movement types: </p>
		<p>Walking FRMs - These are the main movement type, and is required for each weapon type. Running FRMs - These travel double the distance and the FPS is set to 18 Climbing FRMs - 
			These move -2 Y for each frame, but for these FRMs it doesnt really matter </p>
		<p>note: These scritps will only work on FRMs where the individual frames within a given FRM are the same size or are aligned while the offset is set to '0', 
			hence do not run the 'Autocutting' feature until after running these scripts. </p>
		<h3>Step 4 - set the action frame</h3>
		<p>There is an a Hex offset within a FRM file that signifies when to launch an attack or use an item. By default this value is zero in a newly created FRM, 
			which in turn makes the critters attack at the beginning of its animation rather than in the middle or when ever it should happen to be. In the animation below the critter would make the attack roll on the 1st 
			frame instead of when its arm is extended on the 5th frame. </p>
		<img src="images\how_to_add_fot_critter\fot6.webp" alt="">
		<p>This value is set in Frame Animator by selecting "Edit" "Options" "Action Frame" and entering the frame number for which the action takes place. 
			Please note that Frame Animator starts counting at 0, not 1. So the first frame is frame zero and the second is frame one etc... </p>
		<img src="images\how_to_add_fot_critter\fot7.webp" alt="">
		<p>Once again repeat this for all the attack FRMs, though for now only do the HtH and Melee attacks we will come back to the guns a bit later, 
			as you will need to edit them a bit first. Please dont adjust the FPS (frames per second) yet as you only need to change this for the running frames (new new scripts should take care of that). </p>
		<h3>Step 5 - Creating the missing FRMs</h3>
		<p>There are a few FRMs that you will need to create, as they are either not included as separate animations or not included at all in FOT. Here is a list of the FRMs you will need to make/edit. 
			Without these FRMs you wont be able change weapons or fire the guns. </p>
		<p>Equip weapon - xC - (made from 'StandMagichigh' or 'default' FRM) Unequip weapon - xD - (made from 'StandMagichigh' or 'default' FRM) </p>
		<p>Aim gun - xH - (made from 'StandAtackGun' FRM) Lower gun - xI - (made from 'StandAtackGun' FRM) Fire gun, Single - xJ - (made from 'StandAtackGunSingle' FRM) Fire gun, Burst - xK - 
			(made from 'StandAtackGunBurst' FRM) Fire gun, Flame - xL - (made from 'StandAtackGunSingle' FRM) - only needed if critter requires Flame Thrower </p>
		<p>For the Equiping FRMs I just edited the standard 'StandMagichigh' FRM and saved it as "Equip.FRM". To edit it just delete all but the middle three frames and save it as "Equip.FRM" 
			(the rename batch file will use this name so please do save it as this filename). This will provide a quick 'movement' to give the impression of changing guns. 
			Or you can just use the 'default' FRM if you want a quick transition. </p>
		<p>Unfortunately FOT does not include the animation for the equip sequences, using the above method works fine, but the gun just appears in the FRMs hands. More noticable is the fact the new weapons FRM will be centered in a 
			slightly different location due to the size difference between the no gun animation critter and the critter with a gun, this is more noticable on larger guns such as the mini-gun. 
			If you want to get around this you can make a smoother transition by adding frames from the desired weapon transition to the 'default.frm' file and then making sure that the frames are correctly centered, 
			this will then ensure that the critter does not 'hop' during weapon transitions. This is very time consuming so I didnt bother. </p>
		<p>To delete frames, select the unwanted frames and click the 'Delete Frames' button, or you can load the desired script which will delete a particular group of frames for you. 
			eg : "6 Up.fas" will delete all the frame from 6 upwards. When using the scripts I find it easier to delete the last frames first. </p>
		<img src="images\how_to_add_fot_critter\fot8.webp" alt="">
		<p>Now for the aim, lower & fire gun FRMs just open up the StandAtackGunname.frm and save the first segment where the critter aims his gun StandAtackGunnameH.frm, 
			and where the critter lowers its gun StandAtackGunnameI.frm and where the critter fires its gun StandAtackGunnameJ.frm For each of these FRMs you will need to delete the unneeded frames. 
			Also for guns that have both a single shot and a burst mode you only need to make one set of aim and lower animations. 
			You should also notice that most of the FRMs tend to have a transition point where there are two identical frames in a row this is where you should split the animation, 
			but not all of the FRMs will have this so just use your best judgement. Once you have done this you will need to select the action frame for the StandAttackgunJ.frm </p>
		<img src="images\how_to_add_fot_critter\fot9.webp" alt="">
		<h3>Step 6 - Renaming your FRMs</h3>
		<p>Now you need to rename the files into a standard that Fallout 2 will recognise, luckily I have also made a small batch file that will do this for you. Of course it will actually double up some of the FRMs as for example all of the different weapon poses will use the same 'recoil' animation but they each require their own file even though it is the same one (I copied StandRecoil.frm for each of the other recoil animations). </p>
		<p>Anyway just copy RenFrm into the same folder as your new FRMs and run it from the command line using the following naming convention. </p>
		<p>Please note that the 'XX' suffix should use the following convention. </p>
		<p>HA = Hero Androgneus HF = Hero Female HM = Hero Male NA = NPC Androgneus NF = NPC Female NM = NPC Male MA = Monster Androgynous </p>
		<p>The 'name' should only be a 4 character long abbrevation, in order to maintain the correct fallout2 naming convention (it wont work otherwise). </p>
		<p>Once you have decided on its name run Renfrm using hte following syntax: </p>
		<p>RenFrm XXname </p>
		<br>
		<p>And wa-la hey-presto you're done! Just copy the completed FRMs into the \data\art\critters folder update the *.lst file and you can now create a new proto for the critter within the editor! </p>
		<br>
		<hr>

	<div id="grey"><h2>Greyscaling and manipulating FRM sprites </h2></div>
		<p>This is THE tutorial on FRMs including extracting existing data, greyscaling them and putting new data back to FRM format.</p>
		<p>Tools needed: </p>
		<p>- Photoshop 5.x or better or CS (don't expect me to link it here)</p>
		<p>	- Frame Animator 2.51 (http://www.jochua.nm.ru/dwnld/fantr251.zip)</p>
		<p>	- frm2bmp or frm2gif (I recommend first one, link: http://www.nma-fallout.com/forum/dload.php?action=file&file_id=107)</p>
		<p>	- IrfanView (free image viewer, link - www.irfanview.com)</p>
		<p>	- Dat Explorer (or other utility for extracting data from "master.dat", link: http://www.teamx.ru/utils/dat_explorer.rar)</p>
		<p>- Modding Fallout2 FAQ (http://modguide.nma-fallout.com) </p>
		
		<h3>Intro </h3>
		<p>FRM format is standard graphic format made (and mostly used) by Interplay. It's similar to other graphic formats as BMP, GIF, PNG, TGA, TIFF etc... However, some things are different. </p>
		<p>a) The FRM file contains 256 colors from a 1024 colored palette. The palette (1024 colors) for the Fallout games is included with the FRM animator 2.51, 
			the name is "Default.ACT". This palette is recognised by Photoshop (later about this). 	</p>
		<p>b) Less colors -> smaller size of the file, but converting pictures from 16,7 billions of colors to 256 (in other words "dithering") must be taken care of. 
			FRM Animator can do it with an average quality, but Photoshop will do it like a "pro". </p>
		<p>c) FRM format can be animated (as GIF), so we can make animations using it (characters in-game are animated FRMs, right? http://devforum.nwsgames.net/images/smiles/icon_wink.gif). 
			The parameters for animations (and animating itself) are described later on. </p>
		
		<h3>Get to work! </h3>
		<p>We have a simple (haha) task to do - we need an albino deathclaw. Lets divide a task to smaller steps: </p>
		
		<h3>STEP 1 - CONVERTING FRM TO OTHER (SUITABLE FOR EDITING) FORMAT </h3>
		<p>a) Extract the FRM (or all) files from the "master.dat" file using "Dat explorer" or some other utility (NMA has nice database of utils)</p>
		<p>b) Find FRMs you want to edit. We'll look for the small deathclaw frms - according to FO2 modding FAQ these files are named "MACLW2xx.FRM".</p>
		<p>c) UPDATE! Start "frm2bmp" utility which shall extract all frames from the FRM file(s) and save them as BMP files. The command should be written in a DOS window like this: frm2bmp maclw2aa.frm</p>
		<p>Every BMP file represents ONE ANIMATION FRAME from animated FRM.</p>
		<p>Now, we have easy-editable BMP files! Let's edit them! </p>

		<h3>STEP 2 - MY GFX WULEZ!!!1!11! </h3>
		<p>I'll stick to greyscaling here, but you can do whatever you want with your new aquired BMP sprites. So...</p>
		<p>a) Start IrfanView. Go to: File->Batch conversion/rename.</p>
		<p>b) Select and add your BMP frames into the left window ("Add all" option is very useful http://devforum.nwsgames.net/images/smiles/icon_wink.gif)</p>
		<p>c) Choose output directory, check "batch conversion" and choose BMP for output format.</p>
		<p>d) Turn "Advanced options" on. Click on "Set advanced options" and check "convert to grayscale" option.</p>
		<p>e) Click on "Start". </p>
		<p>God, everything is grey now!!! </p>

		<h3>STEP 3 - PREPARING NEW BMPS SO THEY CAN BE CONVERTED (OPTIMAL) TO FRMS </h3>
		<p>We can make this in Frame Animator, but we need to be sure that our new graphics (BMPs) will be converted back to FRM without loosing its' quality (colors quality). 
			This is more important for colored sprites, but I think it'd be nice to do it with greyscaled too.</p>
		<p>a) Open your BMP sprites (pictures, files) in Photoshop.</p>
		<p>b) Go to: Image->Mode, there should be checked "Indexed color..." If it's not checked - check it yourself, then you'll see a new opened window.</p>
		<p>c) Choose Palette->Custom->Load and load the "default.ACT" palette from FRM Animator 2.51</p>
		<p>d) Choose Dither - IMO "Diffusion 75%" is perfect for Fallout sprites.</p>
		<p>e) Don't forget to check "Preserve exact colors", so the dithering can be done at its' best.</p>
		<p>f) Save the new, indexed, 256 colored and for the Fallout2 palette dithered sprite (frame).</p>
		<p>We're almost there! Now we have to make a FRM and that's it. </p>

		<h3>STEP 4 - UNDERSTANDING FRM ANIMATOR 2.51 AND MAKING FRMS WITH IT</h3>
		<p>a) Start FRM Animator 2.51 and open original FRM containing frames we need to change (e.g. MACLW2AA.FRM)</p>
		<p>We need to pay attention on a few things here:</p>
		<p>- Animated FRMs consist from 6 DIRECTIONS (usually), each directions has ONE or MORE ANIMATION FRAMES.</p>
		<p>- UPDATE! Every from 6 DIRECTIONS has its' own COORDINATES (x,y) in-game - "FRAMES OFFSET" in FRM Animator.</p>
		<p>- UPDATE! Each ANIMATION FRAME has its' own (x1,y1) COORDINATES inside the sprite - "FRAME OFFSET" in FRM Animator.</p>
		<p>- Background color is the transparent color. It can be set in "Edit->Options". I usually use "sample" option, then use color picker to pick the background/transparent color. My sprites usually have blue background (0,0,255).</p>
		<p>- UPDATE! Another useful option is "Locked Offsets"(!) It locks the coordinates of a sprite, so deleting old frames and adding new shouldn't affect coordinates! Only offset from the directions (x,y) can be locked.</p>
		<p>- Dithering method is irrelevant, since we did it in Photoshop nice&smooth http://devforum.nwsgames.net/images/smiles/icon_wink.gif</p>
		<p>- ACTION FRAME is the frame which represents an action. E.g. for picking up animation action frame could be Nr.5, and that's the frame when character touches an item. You shouldn't change it, unless you make a new animations.</p>
		<p>- FPS means Frames Per Second - it controls speed of animation! More FPS means faster animation.</p>
		<p>- Interesting option is "View->Ghost", since it enables ghost view of previous frame in the background, so you can use it to tweak your own animations. Used when making new sprites (mostly).</p>
		<p>- You can save your project as FPR file, but I preffer saving to FRM directly.</p>
		<p>Now, back to making albino baby deathclaw!</p>
		<p>b) First, we need to lock offsets! (Options->Lock offsets)</p>
		<p>c) Now, we add greyscaled frames (BMPs or GIFs), (Edit->Add frames) to specific directions. Watch out for the order, they must be ordered properly! After adding new frames (BMPs), delete old frames (colored frames).</p>
		<p>d) Repeat the "c" step for all directions.</p>
		<p>e) Save your new file (MACLW3AA.FRM would be nice, so we can keep the structure of the naming conventions http://devforum.nwsgames.net/images/smiles/icon_biggrin.gif) </p>

		<h3>STEP 5 - TESTING YOUR NEW CREATION!</h3>
		<p>Now, try putting the sprite into the game and test it. You can rename it to MACLW2AA.FRM and put it into "..\data\art\critters" folder of your FO2 game, then start FO2 mapper and add one baby deathclaw to a map. Pressing F8 shall bring you in-game mod on that map. </p>
		<br>
		<hr>

	<div id="newchar"><h2>Making a new character using existing Fallout characters </h2></div>
		<iframe width="560" height="315" src="https://www.youtube.com/embed/CxjrbLj0zA8" title="YouTube video player" frameborder="0" 
		allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
		<br>
		<iframe width="560" height="315" src="https://www.youtube.com/embed/A2_uUEoHMjc" title="YouTube video player" frameborder="0" 
		allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
		<br>
		<iframe width="560" height="315" src="https://www.youtube.com/embed/5ceon8ebmgU" title="YouTube video player" frameborder="0" 
		allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

		<h3>Guide</h3>
		<p>OK, this time I'll try to explain how to make a bald human male character wearing leather jacket  la Mad Max from existing Fallout2 FRMs. Like this one: </p>
		<img src="images\make_new_critter\Start.webp" alt="">

		<h3>TOOLS</h3>
		<p>FRMAnimator by Jochua</p>
		<p>A paint program, possibly one supporting work with layers (I've used Photoshop, but you don't have to)</p>
		<p>Fallout Modification FAQ by dude_obj </p>

		<h3>CONCEPT</h3>
		<p>Well, first of all we need to know what FRMs should be edited and which new should be added.[1]</p>
		<p>The best source for editing are hero male animations (FRMs) starting with HM. In this case we could use the animations of the male hero wearing black jacket (HMMAXX**.FRM files). 
			For more info about the FRM naming index, consult the Fallout Modification FAQ.</p>
		<p>You'll also need the animations of the bald guy (NMLTHR** files), so we can chop his head off and stick it on the leather jacket body.</p>
		<p>Your new bald character's gonna need all default walk/run/actions/death animations, and some weapons animations, but it's up to you to decide which of those. 
			Example: if you want to make Cassidys' replica in leather armor, you'll have to add spear, pistol and rifle animations on the top of it.</p>
		<p>Copy all of the FRMs you want to edit to the work directory and to another one, backup directory - just in case.</p>
		<p>WARNING: This job requires a lot of free time and skill. Well, maybe patience too. Just to let you know before you start with it. </p>
	
		<h3>HOW TO DO IT</h3>
		<p>1. Copy FRM you want to edit to your work directory and open it using FRM animator (I'll work with HMMAXXAA.FRM)</p>
		<p>2. Go to "File->Save Project As" and click "Save". Now all frames have been saved as BMP, and there is the FPR file containing all the info about the animation.</p>
		<p>3. Repeat the first two steps for your bald FRM (I'll work with NMLTHRAA.FRM). Once you're finished with it, you can close the FRMAnimator.</p>
		<p>4. Start your paint (Photoshop or other) program. Load first frame of your leather jacket animation (for me it's HMMAXXAA000000.BMP) and the first frame of the bald guy animation (for me it's NMLTHRAA000000.BMP)</p>
		<p>5. Select the bald head, then deselect background pixels (Magic Wand tool in Photoshop will do the job, use it in combination with ALT to deselect), like this: </p>
		<img src="images\make_new_critter\1st.webp" alt="">
		<p>6. Copy the head (CTRL+C) and paste it to the leather jacket body (CTRL+V), then use Move tool to adjust it, like this: </p>
		<img src="images\make_new_critter\2nd.webp" alt="">
		<p>7. Flatten the image (merge the layers or whatever else is needed), in Photoshop you can do this using "Layer->Flatten Image" option. Save the file!</p>
		<p>8. Repeat the steps 4, 5, 6, and 7 for all other frames (BMPs), frame by frame</p>
		<p>9. Start the FRMAnimator utility and load your leather jacket project (in my case it's HMMAXXAA.FPR). The program will automatically load edited frames (BMPs) and put them in the right place. 
			Like this (I've changed one frame only, the first one): </p>
		<img src="images\make_new_critter\3rd.webp" alt="">
		<p>10. Create FRM from your project ("File->Create FRM"). In this case the name will be HMMAXXAA.FRM</p>
		<p>WARNING: Most of the animations are in FRM format. However, some death animations are in FR0 - FR5 format.</p>
		<p>FR0=north-east</p>
		<p>FR1=east</p>
		<p>...</p>
		<p>FR5=north-west animations directions.</p>
		<p>Be sure to save the file in the correct format!</p>
		<p>11. Repeat steps 1-10 for other animations.</p>
		<p>That's it. I'm available for any questions, feedbacks, flaming etc. </p>
	<br>
	<hr>

	<div id="palette"><h2>Working with palettes </h2></div>
		<p>Some basic stuff about palette: Fallout 2 supports *.frm files which are picture files used by *.pro (object). *.bmp and *.gif are used for conversion into *.frm using 8bit FO2 palette. 
			The good thing is that almost every *.jpg image can be converted into 8bit *.bmp, with some loss of quality though. 
			I've tried a few fan-made programs to convert palette from 24bit to 8bit and decided they are irrelevant comparing to Adobe Photoshop (i use version 7.0). 
			But if you really need precision the simplest solution is windows "Paint" or "Paint Shop Pro" (i had no problems with these in the past). </p>
		<p>In download section there's a Fallout2 palette file with *.pal extension because i used various palette files which i downloaded and non of them worked. 
			Remember, this palettes can be used with every program that supports color mode changing (RGB, CMYK, indexed, multichannel). 
			For conversion to fallout 2 palette you'll use indexed mode (Photoshop users). </p>
		<p>So, how to convert picture to fallout 2 format (fallout2 palette):</p>
		<p>1. Edit the picture you want to add</p>
		<p>2. Open with some more powerful picture editing program (photoshop).</p>
		<p>3. Select color mode: </p>
		<img src="images\working_with_palettes\Example.webp" alt="">
		<p>4. Load palette file: </p>
		<img src="images\working_with_palettes\Example2.webp" alt="">
		<p>5. Save the picture under another name because it's now in 8bit color mode. 6. Convert *.bmp to *.frm with appropriate program ([frm converter]).</p>
		<p>If you don't know how to get working fallout2.pal or .act palette you can do the following:</p>
		<p>1.Extract color.pal from master.dat using [one] of these utils. Then, you can use any picture editing program that supports palette changing to convert your graphic work to 8-bit .bmp before making new .frm. 
			You can make your frm files with [Frame Animator] which is fast and can use both .pal and .act palettes.</p>
		<p>2.Second way to get palette file is to convert any of frms from master.dat\art to .bmp. Then edit .bmp with Photoshop for example </p>
		<br>
		<hr>

		<div id="loadscreen"><h2>Making Loading Screens</h2></div>
			<h3>Making ColorRIX Images for Fallout Loading Screens </h3>
			<p>This is a tutorial by Pixote. It is is designed to demonstrate how to build ColorRIX images: (ColorRIX Bitmap Graphic), for Fallout splash screens. </p>
			<p>The beauty of the ColorRIX images is that there is no need to use the Fallout color palette, therefore the images are cleaner in appearance, but the Fallout color palette can be used to create the Fallout look. 
				The only restriction with this version of Image Alchemy is the ColorRIX images can be no larger than 640x480 pixels. The software will accept 8bit, 16bit, and 24bit - BMPs, GIFs, JPEGs, etc. 
				The image that you wish to convert should be placed in the folder you installed Image Alchemy (this is to make the process easier), any ColorRIX images you build will also be saved into the Alchemy folder. </p>
			<p>The first thing you need is the software Image Alchemy or here Image Alchemy. </p>
			<p>Now the software is ancient so you will need to mess around with the program to become familiar with its interface. The top menu is made up of - FILE  VIEW  RESIZE - PALETTE  COLORS  DITHER  MISC  BASIC PS  ADVANCED PS. </p>
			<p>1). Go to FILE and - Select Input Image and locate the image file you wish to convert. A box (Input Image) in the bottom left will indicate the name and type of the file. </p>
			<p>2). Go to VIEW and  View Image to check the file. ESC key gets you back to the menu. At this stage you can experiment with the COLORS and DITHER menus, and return to the VIEW to see the results. </p>
			<p>3). Go to FILE and  Select Output Type. A red box will pop up  scan through the image formats and find RIX. A box in the bottom right-hand side (Output Type) will now have RIX described. </p>
			<p>4). Go to FILE and  Convert! An Output File Name box will pop up. Change the name to SPLASH0 (Fallout SPLASH files are saved as SPLASH0, SPLASH1, etc), and change the .SCX to .RIX, and hit the enter key. 
				The ColorRIX image will be saved to the Alchemy folder. </p>
			<p>5). You will need a small program - Titanium Frm Browser to actually view the finished ColorRIX image, but this program can also view Fallout FRMs. 
				The finished SPLASH screens should be placed in a folder - \Fallout1\data\art\splashor \Fallout2\data\art\splash. </p>
			<p>It's important to remember that these images can only be seen in the actual game if the resolution patch has not been installed, or the graphic are turned to 8bit.</p>
			<p>Here is an example of one I made: </p>
			<img src="images\loading_screens\Splash0.webp" alt="">
		<br>
		<br>
		<br>
		<hr>

		<div id="animation-3dsmax"><h2>Making animations with 3ds Max and FrameAnimator </h2></div>
			<h3>Create a character model</h3>
			<img src="images\animations_3dsmax\Frmantr1.webp" alt="">
			<p>Start with a 3D model of a character </p>

			<h3>Set up the scene for animation</h3>
			<img src="images\animations_3dsmax\Frmantr2.webp" alt="">
				<code>
					<pre>
						Reference 	Description

						1 		character model
						2 		camera ('Orthographic Projection' - 3ds Max)
						3 		light source to create shadows of the character on the ground ('Cast Shadows', 'Use Ray-Traced Shadows', 'Decay' to 'None')
						4 		arbitrary light source to create ambient lighting ('Cast Shadows' off, 'Decay' to 'None')
						5 		horizontal plane to form the background color and shadows on the final image
						a1 		vertical camera angle (-25.7 degrees)
						a2 		angle of the light source for shadows (-75.7 degrees)
						a3 		horizontal camera angle (-150, -90, -30, 30, 90, and 150 for six orientations). 
					</pre>
				</code>
			
			<h3>Generate frames</h3>
			<img src="images\animations_3dsmax\Frmantr3.webp" alt="">
			<p>An animation set of five frames in the 'South East' (SE) orientation. For rendering, disable Anti-Aliasing. 
				Notice that The "stay frame" is not included in animation set 'AB', but is included in the 'AA' set. </p>

			<h3>Create the animation project</h3>
			<img src="images\animations_3dsmax\Frmantr4.webp" alt="">
			<p>A single frame </p>
				<code>
					<pre>
						Reference 	Description

						1 		the actual dimensions of the picture
						2 		target character image
						3 		empty border. (Do not cut them yourself. They are needed to correctly calculate the displacement of the logical boundaries of frames relative to each other. 
								FrameAnimator pairs these empty areas together itself just before the generation of .FRM file, if you set the option 'Edit\Options...\Autocutting')
						4 		background, interpreted as transparent
						5 		the logical boundary of the frame (If the option FrameAnimator 'Edit\Options...\Autocutting' is not enabled, 
								then the logical boundary coincides with the actual dimensions of the picture. For the different frames in the collection the logical boundaries are different)
						H, W 		height and width of the frame
						OffsetX,  	the offset of the logical center (in FrameAnimator the values FramesOffset[direction].X and FramesOffset[direction].Y).
						OffsetY		Offset X is measured from the center of the image, and Offset Y is measured from the bottom edge. 
					</pre>
				</code>

			<h3>Finish the animation</h3>
			<img src="images\animations_3dsmax\Frmantr5.webp" alt="">
				<code>
					<pre>
						Reference 	Description

						1 		standing character frame (not included in the walking animation)
						2 		walking animation frames
						3 		repeated walk animation frames (played repeatedly until the character reaches the desired location on the map)
						dx1, dy1 	the offset of the first frame at the beginning of the animation:
								FirstOffset[direction].X = FramesOffsets[direction].X + FrameOffsets[direction][1].X
								FirstOffset[direction].Y = FramesOffsets[direction].Y + FrameOffsets[direction][1].Y
						dx2, dy2 	the offset between two adjacent frames (In FrameAnimator these are the values FrameOffset[direction][i].X and FrameOffset[direction][i].Y. 
								FrameAnimator can calculate them automatically, if not trim the empty background of images!)
						dx3, dy3 	the offset between the last frame and first frame in the repeated animation 
								(in FrameAnimator these are the values FrameOffset[direction][1].X and FrameOffset[direction][1].Y. 
								Set the value of X and use the 'OffsetWizard' button in the 'FrameOffset' dialog box to calculate the correct value of Y). 
					</pre>
				</code>
		<br>
		<hr>

		<div id="new_worldmap"><h2>Making a new worldmap </h2></div>
			<p>Lisac2k made a worldmap for Survivor 2 MOD a few days ago and here's the simple way to do it. </p>
			<p>Tools: FRM animator 2.51 or FRManim shortly (here) A picture editing program (Photoshop, Paint Shop pro, GIMP etc...) </p>
			<p>Steps: 1. Knowing the truth: Fallout worldmap is 1400x1500 pixels formated. So, your map should be so formated too. It's 8-bit coloured, that means there will be some color loss when converting to FRM format, 
				but it has to be that way. That's why your map shouldn't be too much coloured (something like sepia works nice). </p>
			<p>2. Find your area of interest somewhere on the net: I recommend using this site for a start - http://www.terraserver.com - grab your map image there. </p>
			<p>3. Load your image into your picture editing program. Resize, cut,adjust, apply effects etc. until you get a satisfying result which is 1500x1400 pixels sized. Save image (I usually use BMP format). 
				Now that image should be divided into 20 smaller images which are 350x300 sized. Here's the picture how it looks like: </p>
			<img src="images\new_worldmap\Mapabig7ve.th.webp" alt="">
			<p>Name your parts like this WRLDMPxx.BMP (where "xx" is number from 00 to 19) and save the files. 00 represents 1st map part, and 19 represents 20th map part. </p>
			<p>4. If you want (and I know I want) to show yellow lines (meridians, parallels) on your map, here's what you need to do. Open each of your map parts and draw lines like on this picture: </p>
			<img src="images\new_worldmap\Mapasmall1uw.th.webp" alt="">
			<p>Warning: don't draw lines on the RIGHT- and DOWN-side of the map! </p>
			<p>5. Load each of your WRLDMPxx.BMP maps into FRManim. and save them as FRMs. That's it. For using it in-game, copy the map files to "your Fallout2 directory/data/art/intrface". </p>
		<br>
		<hr>

		<div id="tile_worldmap"><h2>New World Map Tiles </h2></div>
			<p>Here you will see example of how to make new worldmap tiles using Adobe Photoshop 7.0 </p>
			<p>1.First, you need a picture of Fo2 world map. It doesn't matter if it's in .bmp .jpg .gif or any other format, you can convert it using a palette or "Save As..." option. 
				However, picture size is important. For standard 4x5 tiles, wm* size is 1400x1500 pix. </p>
			<img src="" alt="">
			<p>Those yellow grid lines you see across the world map are just being used for easier navigation on the world map, nothing more. 2.Now, when you have wm* in appropriate format, open it with "Adobe ImageReady". 
				3.It's time to make some tiles... </p>
			<img src="" alt="">
			<p>Next, select tile size... </p>
			<img src="" alt="">
			<p>At the same time, in the top right corner you will see this toolbox. Here you can select output format for tiles (currently GIF, 256 colors). </p>
			<img src="" alt="">
			<p>To make sure your tiles are divided correctly, use "Optimized" tab in the opened document main window like so: </p>
			<img src="" alt="">
			<p>4. File\Save optimized as... </p>
			<p>Later, you can rename tiles and convert them to frms using any of the available tools. </p>
			<p>5*. Updating worldmap.txt: </p>
			<p>After adding new frms to art\intrface and updating intrface.lst now you want these new tiles to be shown in game... </p>
			<p>First you have to check worldmap.txt line "num_horizontal_tiles=x" to see if you have correct number of tiles (if x =4 then tiles num= 20). Usually, you should never change this number if you don't intend to alter world map size. 
				In any other case, with x=5 tiles number will increase to 25. That also means you've got to have new tiles from WRLDMP20.frm - WRLDMP24.frm </p>
			<p>Now, if you have more than 20 tiles, add new tiles information in worldmap.txt: </p>
				<code>
					<pre>
						[Tile 20]  	greater than 19
						art_idx=357 	for new tiles, must be greater than 468 (intrface.lst)
						encounter_difficulty=0 	note that (-10) is harder encounter table
					</pre>
				</code>
		<br>
		<hr>

		<div id=""><h2>Adding FO's palette to images/disabling AA on outer edges</h2></div>
			<p>This is a tutorial by Continuum, found at NMA. Hello, Since FO's engine doesn't support anti-aliasing, we can "cheat" this ugly limitation and disable AA only on outer edges. </p>
			<p>We must render the scene twice: with AA and without AA (of course every render must have the same size, camera position, etc.). I used FO's blue, transparent color as environmental map. </p>
			<p>1) Copy and paste AA to noAA Wink Next you must make a selection on noAA layer (in this case Background):</p>
			<img src="images\AA_on_FOs_palette\56598497mn7.webp" alt="">
			<p>2) Switch to AA layer and Expand the selection by one pixel (or Contract by one if you selected inverse): </p>
			<img src="images\AA_on_FOs_palette\89024219hj0.webp" alt="">
			<p>You should get something like this: </p>
			<img src="images\AA_on_FOs_palette\45111029va4.webp" alt="">
			<p>3) Simply delete selection on AA layer: </p>
			<img src="images\AA_on_FOs_palette\11191740py2.webp" alt="">
			<p>4) Final "composition": </p>
			<img src="images\AA_on_FOs_palette\34392659eo7.webp" alt="">
			<p>Now it's time to convert image to FO's palette before conversion to FRM. </p>
			<p>Image -> Mode -> Indexed color -> select "Custom..." in the "Palette" field -> Load... (you must load FO's palette. Color table you'll find in Frame Animator - default.act). 
				Next you must change "Dither" from None to Diffusion. Save the image. </p>
			<p>Good conversion: </p>				
			<img src="images\AA_on_FOs_palette\6aad3.webp" alt="">
			<p>Bad conversion: </p>
			<img src="images\AA_on_FOs_palette\7abz2.webp" alt="">
			<p>You can also apply noise filter on bigger "surfaces" for better conversion (test at NMA). On the smaller ones you don't noticed any differences, I guess... </p>
	<br>
	<hr>
-->
	<div id="addendum"><h2>Addendum</h2></div>
		<p>If you want to share feedback, got questions, find any error or just want to chat 
			please consider looking at the <a href="https://www.nma-fallout.com/forums/fallout-general-modding.18/">No Mutants Allowed (NMA) forum modding subsection</a>.
			There you'll find the <a href="https://www.nma-fallout.com/threads/femics-fallout-2-modding-guide.221013/">thread of this guide.</a></p>
		<p>A really big thanks to anybody who wrote a tutorial or dropped some knowledge here and there.</p>    
	<br>
	<hr>

	<div id="source"><h2>Sources</h2></div>
		<p><a href="https://falloutmods.fandom.com/wiki/Making_new_tiles">Making new tiles (Author: Wild_Qwerty - Mutants Rising Team)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Making_new_walls">Making new walls (Author: Wild_Qwerty - Mutants Rising Team)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/How_To_Use_FOT_Critters_In_FO2">How To Use FOT Critters In FO2 (Author: Wild_Qwerty - Mutants Rising Team)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Greyscaling_and_manipulating_FRM_sprites">Greyscaling and manipulating FRM sprites (Author: Lisac2k)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Making_a_new_character_using_existing_Fallout_characters">Making a new character using existing Fallout characters (Author: Lisac2k)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Making_ColorRIX_Images_for_Fallout_Loading_Screens">Making ColorRIX Imagesfor Fallout Loading Screens (Author: .Pixote.)</a></p> 
		<p><a href="https://falloutmods.fandom.com/wiki/Making_animations_with_3ds_Max_and_FrameAnimator">Making animations with2ds Max and FrameAnimator (Author: Jochua)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Making_a_new_worldmap">Making a new worldmap (Author: Lisac2k)<a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/New_World_Map_Tiles">New World Map Tiles (Author: Unknown (Last Hope mod))</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Unpacking_the_Fallout_2_.dat_files">Unpacking the Fallout 2 .dat files (Author: Red?)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Floors_and_walls">Floors and walls (Author: ColJack)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Adding_maps">Adding maps (Author: ColJack)</a></p>
		<p><a href="https://falloutmods.fandom.com/wiki/Ladders_and_stairs">Ladders and stairs (Author: ColJack)</a></p>
</div>
</body>
</html>
