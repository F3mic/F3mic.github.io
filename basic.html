<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scripting (Basics)</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h3>Scripting (Basics)</h3>
    <br>

        <div id="script"><h4>Script</h4></div>
            <p>A script is a container that contains the source code of the Fallout scripting language. 
                Any object in the game can have a script. 
                Scripts are needed to assign a certain behavior to an object (critter, scenery, items etc.), 
                so that it can be interacted with. They breathe life into the game world and its inhabitants.
                Not only the player can interact with scripts,
                but even scripts can interact with eachother. </p>
        <br>

        <div id="procedure"><h4>Procedure</h4></div>
            <p>Procedures are just like small programs. Sometimes they are called sub-programs. 
                They are an essential part of program and help programmers to avoid repetitions since they promote code re-use. 
                A procedure in Pascal starts with a begin and ends with an end just like a program;. 
                It can also have its own variables called local variables. 
                Local variables belonging to procedures cannot be used with the main-program. 
                Variables declared in a program are called global variables.</p>
                <code>
                    <pre>
                        <span class="dyestatement">procedure</span> start <span class="dyestatement">begin</span>
                        <span class="dyestatement">end</span>
                    </pre>
                </code>
        <br>

        <div id="function"><h4>Function</h4></div>
        <br>

        <div id="variable"><h4>Variable</h4></div>
            <p>The variable <strong>Only_Once</strong> is defined outside the procedure and assigned the value <span class="dyedefine">0</span>. 
                This variable can be used in every procedure inside the script. This variable will not be saved when changing the map.</p>
                <code>
                    <pre>
                        <span class="dyestatement">variable</span> Only_Once <span class="dyeoperator">:=</span> <span class="dyedefine">0</span>;

                        <span class="dyestatement">procedure</span> <span class="dyeprocedure">map_enter_p_proc</span> <span class="dyestatement">begin</span>
                            Only_Once <span class="dyeoperator">:=</span> <span class="dyedefine">0</span>;
                    </pre>
                </code>
            <p>The variable item is defined inside the procedure <span class="dyeprocedure">combat_p_proc</span>.
                This variable can only be used inside the procedure. This variable will not be saved when changing the map.</p>
                <code>
                    <pre>
                        <span class="dyestatement">procedure</span><span class="dyeprocedure">combat_p_proc</span> <span class="dyestatement">begin</span>
                            <span class="dyestatement">variable</span> item;

                                item <span class="dyeoperator">:=</span> <span class="dyestandardmacro">create_object</span>(PID_HEALING_POWDER),<span class="dyedefine">0</span>,<span class="dyedefine">0</span>);
                                <span class="dyefunctionorange">use_obj_on_obj</span>(item,<span class="dyefunctionorange">self_obj</span>);
                    </pre>
                </code>
            <p>This variable is defined inside script ARCAVES.SSL. The keyword export ensures that the variable can be used in other scripts. 
                The variable contains the last value that was assigned to it.</p>
                <code>
                    <pre>
                        <span class="dyestatement">export variable</span> temple_chest_prt;
                    </pre>
                </code>
            <p>The previously exported variable can now be used with the keyword import in the scripts AITEMCST.SSL and ACTEMVIL.SSL. 
                The variable contains the value that was last assigned to it.</p>
                <code>
                    <pre>
                        <span class="dyestatement">import variable</span> temple_chest_prt;
                    </pre>
                </code>
            <p>This variable is of type Local variable (LVAR). This variable is saved during map change.</p>
                <code>
                    <pre>
                        <span class="dyedefine">#define</span> LVAR_Gave_Xp; &emsp; &emsp; (<span class="dyedefine">0</span>)
                    </pre>
                </code>
            <p>This variable is of type Map variable (MVAR). This variable is saved during map change. MVARs are stored in the corresponding map script. 
                In this case MVAR_Fixed_Well is stored in arvillag.H. With the include command the MVAR can be used in the script. 
                Map variables need to be added to a file called mapName.gam which must be put in the data\maps directory.</p>
                <code>
                    <pre>
                        <span class="dyedefine">#define</span> MVAR_Fixed_Well; &emsp; &emsp; (<span class="dyedefine">4</span>)
                    </pre>
                </code>
            <p>This variable is of type Global variable. They can be used in any script. To use these variables, only the file global.H must be included in the script. 
                These variables are saved during the map change. Any global variables you #define and use must also be put into a file called VAULT13.gam which is found in the data\data directory. 
                Global Vars will be stored in a header file called Global.h, located in the \Fallout2\Scripts\Headers\ directory. 
                All global vars will be prepended with GVAR_ to differentiate them from all other variables.</p>
                <code>
                    <pre>
                        <span class="dyedefine">#define</span> GVAR_DUMAR_STATUS; &emsp; &emsp; (<span class="dyedefine">369</span>)
                    </pre>
                </code>
        <br>

        <div id="constant"><h4>Constant</h4></div>
            <p>Constants are variables with one-time fixed unchangeable value. A good example is give_xp(EXP_FIX_WELL) because EXP_FIX_WELL is a constant which is defined in ExpPoint.H. 
                If you use EXP_FIX_WELL in several scripts and you want to change the given experience from 100 to 200 you just need to change the value in on place, in ExpPoint.H.</p>
                <code>
                    <pre>
                        <span class="dyedefine">#define</span> EXP_FIX_WELL; &emsp; &emsp; (<span class="dyedefine">100</span>)
                    </pre>
                </code>
        <br>
        
        <div id="macro"><h4>Macro</h4></div>
            <p>Found in the file EXPPOINT.H give_xp(x) is a macro of a couple of functions like give_exp_points(x); display_msg[…] and message_str[…] combined.</p>
        <br>

        <div id="parameter"><h4>Parameter</h4></div>
            <p>This give_xp(x) gives a certain amount of experience points to the player and displays a message to the player so he is informed how many exp points he received. 
                The amount of the exp points given is defined with the symbol between the brackets, in this example (x). This is called an argument.</p>
        <br>

        <div id="operator"><h4>Operator</h4></div>
            <p><span class="dyeoperator">:=</span>(assign value - Assigns the value on the right side to the value on the left side.)</p>
            <p><span class="dyeoperator">></span> (greater than - Checks if the value on the left side is greater then the value on the right side.)</p>
            <p><span class="dyeoperator"><</span> (lesser than - Checks if the value on the left side is lesser then the value on the right side.)</p>
            <p><span class="dyeoperator">>=</span> (greater than or equal to - Checks if the value on the left side is greater then or equal to the value on the right side.)</p>
            <p><span class="dyeoperator"><=</span> (lesser than or equal to - Checks if the value on the left side is lesser then or equal to the value on the right side.)</p>
            <p><span class="dyeoperator">==</span> (equals - Checks if the value on the left side is exactly the same as the value on the right side.)</p>
            <p><span class="dyeoperator">!=</span> (does not equal - Checks if the value on the left side is not exactly the same as the value on the right side.)</p>
        <br>

        <div id="header"><h4>Header File</h4></div>
            <p>Header files are files that store information that is used repeatedly in every script. 
                So, you don’t have to rewrite certain functions, arguments, variables every time you want to use them. 
                Just include the header file you want to use inside your script and you’re good to go.</p>
                <code>
                    <pre>
                        <span class="dyedefine">#include</span> <span class="dyeheader">"..\headers\command.h"</span>
                    </pre>
                </code>
            <p>You must do this step so that the compiler is able to compile your script.</p>
                <code>
                    <pre>
                        <span class="dyedefine">#define</span> NAME &emsp; &emsp; SCRIPT_ASWELL
                    </pre>
                </code>
                <code>
                    <pre>
                        <span class="dyedefine">#define</span> NAME &emsp; &emsp; SCRIPT_ASWELL
                        <div class="codepopup" >
                            <div class="codepre">
                                Define: SCRIPT_ASWELL
                                (217) //ASWell.int  :Arroyo Well. It's broken. Fix w/ Repair.
                                
                                Declare file: scripts.h
                            </div>
                        </div>
                    </pre>
                </code>
            <p>The file scripts.H is located inside headers\scripts.H. </p>
                <code>
                    <pre>
                        <span class="dyedefine">#define</span> SCRIPT_ASWELL &emsp; &emsp; (<span class="dyedefine">217</span>) &emsp; <span class="dyecomment">// ASwell.int</span> &emsp; &emsp; <span class="dyecomment">; Arroyo Well. It's broken. Fix w/ Repair.</span>
                    </pre>
                </code>
        <br>

        <div id="statement"><h4>Statement</h4></div>
            <p>if then else is a Statement.</p>
        <br>
        <br>

    <footer>
        <div class="symbol">
            <a href="prep.html">&laquo; Previous</a>
                <img src="images\Radioactive_symbol.png">	
            <a href="index.html">Index</a>
                <img src="images\Radioactive_symbol.png">
            <a href="complex.html">Next &raquo;</a>	
        </div>
    </footer>
</body>
</html>